<!DOCTYPE html><html lang="en">
<!-- Mirrored from overiq.com/django-1-11/creating-trending-snippet-page/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:14:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/>
<script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force){var setScript=function(){if(force||window.ezTcfConsent[category]){var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script>
<script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=true;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET/index.html","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot={};__ez.queue.addFile('../../detroitchicago/boise.js', '../../detroitchicago/boisebb26.js?gcb=195-3&amp;cb=5', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/abilene.js', '../../parsonsmaize/abilenec0f9.js?gcb=195-3&amp;cb=7f81d60744', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/mulvane.js', '../../parsonsmaize/mulvane2d63.js?gcb=195-3&amp;cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFile('../../detroitchicago/birmingham.js', '../../detroitchicago/birminghame7ec.js?gcb=195-3&amp;cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain_id":92771,"ezcache_level":1,"ezcache_skip_code":0,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":0,"lt_cache_level":0,"response_size":91071,"response_size_orig":85303,"response_time_orig":1093,"template_id":5,"url":"https://overiq.com/django-1-11/creating-trending-snippet-page/","word_count":0,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6],"omd5":"8c0593d88a7a5d6d0043e61da9c6fec2"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST/index.html','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><base />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Creating Trending Snippet Page - Django 1.11 Tutorial - OverIQ.com</title>

    
    



    <meta name="description" content="Our next task is to display a list of snippets page based on the number of hits a snippet has received. We want to display a list of trending snippet…"/>



    <link rel="canonical" href="index.html"/>


<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Creating Trending Snippet Page"/>

    <meta property="og:description" content="Our next task is to display a list of snippets page based on the number of hits a snippet has received. We want to display a list of trending snippet…"/>


<meta property="og:url" content="https://overiq.com/django-1-11/creating-trending-snippet-page/"/>
<meta property="og:site_name" content="OverIQ.com"/>


<meta property="article:publisher" content="https://www.facebook.com/OverIQ/"/>



<meta name="twitter:card" content="summary_large_image"/>

    <meta name="twitter:description" content="Our next task is to display a list of snippets page based on the number of hits a snippet has received. We want to display a list of trending snippet…"/>


<meta name="twitter:title" content="Creating Trending Snippet Page"/>
<meta name="twitter:site" content="@infoOverIQ"/>

<meta name="twitter:creator" content="@infoOverIQ"/>




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../feed.xml/index.html"/>
    
    
    <link href="../../../fonts.googleapis.com/cssd2d5.css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="../../static/wiki/favicon.png" sizes="32x32"/>

    <link rel="stylesheet" href="../../static/CACHE/css/output.db46da465a8b.css" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-125424793-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125424793-1');
    </script>


<script type='text/javascript'>
var ezoTemplate = 'orig_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 92771;
var ezdomain = 'overiq.com';
var ezoicSearchable = 1;
</script></head>
<body>

<div class="overiq-header text-center">
    <div class="site-branding">
        <p class="main-title">
            <a href="../../index.html" rel="home">
                OverIQ.com
            </a>
        </p>
    </div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li>
                    <a href="../../blog/index.html">Blog</a>
                </li>
                <li>
                    <a href="../../contact/index.html">Contact</a>
                </li>
                <li>
                    <a href="../../about/index.html">About</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right visible-lg visible-md">
                <li>
                    <a href="../../feed.xml/index.html" title="RSS" target="_blank">
                        <i class="fa fa-rss fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/overiq/" target="_blank" title="Github">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.facebook.com/OverIQ/" target="_blank" title="Facebook">
                        <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/infoOverIQ" target="_blank" title="Twitter">
                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
                    </a>
                </li>

                

            </ul>

            <form action="https://overiq.com/search/" class="navbar-form navbar-left" role="search">

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="query" value=""/>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </form>

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    


    <div class="se-pre-con"></div>

    

    <div class="row">

        
        <div class="main">
            <div class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        <ol class="breadcrumb">

    <li><a href="../../index.html">Home</a></li>

    
        
        <li><a href="../index.html">Django 1.11 Tutorial</a></li>
        

        

        
    
        

        

        
            <li class="active">Creating Trending Snippet Page</li>
        
    

</ol>
    


<h1>Creating Trending Snippet Page</h1>




    <p><i class="fa fa-calendar" aria-hidden="true"></i>
        Last updated on July 27, 2020
    </p>


<hr/>



<p>Our next task is to display a list of snippets page based on the number of hits a snippet has received. We want to display a list of trending snippets across all languages at URL path <code>/trending/</code> and snippets from a particular language at URL path <code>/trending/&lt;language_slug&gt;/</code>.</p>

<p>Let&#39;s start by modifying <code>trending_snippets</code> view function in <code>views.py</code> file as follows:</p>

<p><strong>djangobin/django_project/djangobin/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">def</span> <span class="nf">raw_snippet</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">snippet_slug</span><span class="p">):</span>
    <span class="c1">#...</span>


<span class="hll"><span class="k">def</span> <span class="nf">trending_snippets</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">language_slug</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span class="hll">    <span class="n">lang</span> <span class="o">=</span> <span class="bp">None</span>
</span><span class="hll">    <span class="n">snippets</span> <span class="o">=</span> <span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">language_slug</span><span class="p">:</span>
</span><span class="hll">        <span class="n">snippets</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">language__slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>
</span><span class="hll">        <span class="n">lang</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Language</span><span class="p">,</span> <span class="n">slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>
</span><span class="hll">    <span class="n">snippets</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;djangobin/trending.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;snippets&#39;</span><span class="p">:</span> <span class="n">snippets</span><span class="p">,</span> <span class="s1">&#39;lang&#39;</span><span class="p">:</span> <span class="n">lang</span><span class="p">})</span>
</span>

<span class="k">def</span> <span class="nf">tag_list</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Create <code>trending.html</code> template in djangobin app&#39;s <code>templates</code> directory with the following code:</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/trending.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;djangobin/base.html&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">load</span> <span class="nv">static</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">load</span> <span class="nv">humanize</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Trending </span><span class="cp">{{</span> <span class="nv">lang.name</span> <span class="cp">}}</span><span class="x"> Snippets - </span><span class="cp">{{</span> <span class="nb">block</span><span class="nv">.super</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">main</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">    &lt;h5&gt;&lt;i class=&#34;fas fa-chart-line&#34;&gt;&lt;/i&gt; Trending </span><span class="cp">{{</span> <span class="nv">lang.name</span> <span class="cp">}}</span><span class="x"> Snippets&lt;/h5&gt;</span>
<span class="x">    &lt;hr&gt;</span>

<span class="x">    &lt;table class=&#34;table&#34;&gt;</span>
<span class="x">        &lt;thead&gt;</span>
<span class="x">        &lt;tr&gt;</span>
<span class="x">            &lt;th&gt;Title&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Date&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Hits&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Language&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;User&lt;/th&gt;</span>
<span class="x">        &lt;/tr&gt;</span>
<span class="x">        &lt;/thead&gt;</span>
<span class="x">        &lt;tbody&gt;</span>

<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">snippet</span> <span class="k">in</span> <span class="nv">snippets</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;tr&gt;</span>
<span class="x">                &lt;td&gt;&lt;i class=&#34;fas fa-globe&#34;&gt;&lt;/i&gt;</span>
<span class="x">                    &lt;a href=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.get_absolute_url</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;</span>
<span class="x">                &lt;/td&gt;</span>
<span class="x">                &lt;td title=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.created_on</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.created_on</span><span class="o">|</span><span class="nf">naturaltime</span> <span class="cp">}}</span><span class="x">&lt;/td&gt;</span>
<span class="x">                &lt;td&gt;</span><span class="cp">{{</span> <span class="nv">snippet.hits</span> <span class="cp">}}</span><span class="x">&lt;/td&gt;</span>
<span class="x">                &lt;td&gt;&lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:trending_snippets&#39;</span> <span class="nv">snippet.language.slug</span>  <span class="cp">%}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.language</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">snippet.user.profile.private</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;td&gt;&lt;a href=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.user.profile.get_absolute_url</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.user.username</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;td&gt;-&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">            &lt;/tr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">empty</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;tr class=&#34;text-center&#34;&gt;</span>
<span class="x">                &lt;td colspan=&#34;4&#34;&gt;There are no snippets.&lt;/td&gt;</span>
<span class="x">            &lt;/tr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        &lt;/tbody&gt;</span>
<span class="x">    &lt;/table&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Here are few things to notice:</p>

<p>In lines 27-46, we use a <code>{% for %}</code> tag to loop over the snippet list.</p>

<p>In lines 29-34, we display snippet title, creation time, hits and language name.</p>

<p>In lines 35-39, we check whether the snippet creator profile is private or not. If the profile is not private, we display the username and along with a link to the user profile page. On the other hand, if the profile is private we display a <code>-</code> (dash) in the User column.</p>

<p>Next, update djangobin app&#39;s <code>base.html</code> template to include a link to trending snippet page:</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/base.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">            &lt;ul class=&#34;nav navbar-nav&#34;&gt;</span>
<span class="x">                &lt;li </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">request.path</span> <span class="o">==</span> <span class="s1">&#39;/&#39;</span> <span class="cp">%}</span><span class="x">class=&#39;active&#39;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"> &gt;</span>
<span class="x">                    &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:index&#39;</span> <span class="cp">%}</span><span class="x">&#34;&gt;Add new&lt;/a&gt;</span>
<span class="x">                &lt;/li&gt;</span>
<span class="x">                &lt;li </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">request.path</span> <span class="o">==</span> <span class="s1">&#39;/trending/&#39;</span> <span class="cp">%}</span><span class="x">class=&#39;active&#39;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x">&gt;</span>
<span class="hll"><span class="x">                    &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:trending_snippets&#39;</span> <span class="cp">%}</span><span class="x">&#34;&gt;Trending&lt;span class=&#34;sr-only&#34;&gt;(current)&lt;/span&gt;&lt;/a&gt;</span>
</span><span class="x">                &lt;/li&gt;</span>
<span class="x">                &lt;li </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">request.path</span> <span class="o">==</span> <span class="s1">&#39;/about/&#39;</span> <span class="cp">%}</span><span class="x">class=&#39;active&#39;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x">&gt;</span>
<span class="x">                    &lt;a href=&#34;&#34;&gt;About&lt;/a&gt;</span>
<span class="x">                &lt;/li&gt;</span>
<span class="x">                &lt;li </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">request.path</span> <span class="o">==</span> <span class="s1">&#39;/contact/&#39;</span> <span class="cp">%}</span><span class="x">class=&#39;active&#39;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x">&gt;</span>
<span class="x">                    &lt;a href=&#34;&#34;&gt;Contact&lt;/a&gt;</span>
<span class="x">                &lt;/li&gt;</span>
<span class="x">            &lt;/ul&gt;</span>
<span class="c">{# ... #}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Likewise, to display trending snippets from a particular language add a link to <code>snippet_detail.html</code> template as follows:</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/snippet_detail.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">    &lt;div class=&#34;codeblock&#34;&gt;</span>

<span class="x">        &lt;div class=&#34;toolbar clearfix&#34;&gt;</span>
<span class="hll"><span class="x">            &lt;span class=&#34;at-left&#34;&gt;&lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:trending_snippets&#39;</span> <span class="nv">snippet.language.slug</span> <span class="cp">%}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.language</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/span&gt;</span>
</span><span class="x">            &lt;span class=&#34;at-right&#34;&gt;</span>
<span class="x">                &lt;a onclick=&#34;return confirm(&#39;Sure you want to delete this paste? &#39;)&#34; href=&#34;&#34;&gt;delete&lt;/a&gt;</span>
<span class="x">                &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:raw_snippet&#39;</span> <span class="nv">snippet.slug</span> <span class="cp">%}</span><span class="x">&#34;&gt;raw&lt;/a&gt;</span>
<span class="x">                &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:download_snippet&#39;</span> <span class="nv">snippet.slug</span> <span class="cp">%}</span><span class="x">&#34;&gt;download&lt;/a&gt;</span>
<span class="x">            &lt;/span&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">        &lt;div class=&#34;code-wrapper&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.highlighted_code</span><span class="o">|</span><span class="nf">safe</span> <span class="cp">}}</span><span class="x">&lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">   </span>
<span class="c">{# ... #}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Navigate your browser to <code>http://127.0.0.1:8000/trending/</code>. You will see a list of trending snippets across all the languages.</p>

<p><img src="../../media/uploads/2018/5/28/Selection_177-5c853751-1f96-4911-923e-fa47e6777418.png" loading="lazy" alt=""/></p>

<p>To view trending snippets from a particular language click on the language name in the Language column.</p>

<p>Another way to view trending snippets from a particular language is to click on the language name in the snippet detail page.</p>

<p><img src="../../media/uploads/2018/5/28/Selection_175-a49634e5-49ec-4c11-ad4d-12245cc894f6.png" loading="lazy" alt=""/></p>

<p>Either way, you will end up with a list of snippets from a particular language like this:</p>

<p><img src="../../media/uploads/2018/5/30/Selection_195-f7520bd8-bcc4-480c-ac88-3c8c93cbdf90.png" loading="lazy" alt=""/></p>
<span id="pagination-basics" class="anchor-target"></span><h2 class="heading">Pagination Basics <a class="header-link" href="#pagination-basics">#</a></h2>

<p>Let&#39;s assume for the moment that our site became very popular and started receiving millions of visits every day. </p>

<p>Suddenly we will have a problem!</p>

<p>As things stand, we are displaying all snippets at once in trending snippets page. This will not only increase the page size but will also degrade the user experience. The user will have to wade through the snippet list to find out what they are looking for.</p>

<p>The solution is to use pagination and break a long list into multiple pages.</p>

<p>Django provides a class named <code>Paginator</code> which allows us to create paginated records. To use it, import it from <code>django.core.paginator</code> module.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span>
</pre></div>
</div>
<p>To use pagination we, have to create a <code>Paginator</code> object first. The <code>Paginator</code> constructor has the following syntax:</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">paginator_object</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">object_list</span><span class="p">,</span> <span class="n">records_per_page</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code>object_list</code> can be a tuple, list, queryset etc. The <code>records_per_page</code> is a number of records you want to show on each page.</p>

<p>Here is the code to create a <code>Paginator</code> object to show 5 snippets per page:</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">paginator</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">(),</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code>Paginator</code> object has the following attributes and methods, which are frequently used while creating paginated records.</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Attribute/Method</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>count</code></td>
<td>The count attribute returns the total number of records, across all the pages.</td>
</tr>
<tr>
<td><code>num_pages</code></td>
<td>The <code>num_pages</code> attribute returns total number of pages.</td>
</tr>
<tr>
<td><code>page(number)</code></td>
<td>The <code>page()</code> method accepts a page number and returns a <code>Page</code> instance for that page. We use <code>Page</code> instance to access records in a page. If the argument is not a number, then it throws <code>PageNotAnInteger</code> exception. If the page specified doesn&#39;t exist it throws an <code>EmptyPage</code> exception.</td>
</tr>
</tbody>
</table></div>
<p>The <code>Page</code> object also provides some useful attributes and methods.</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Attribute/Method</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>object_list</code></td>
<td>a list of objects in this page.</td>
</tr>
<tr>
<td><code>number</code></td>
<td><code>1</code> based numeric count of the current page.</td>
</tr>
<tr>
<td><code>has_next()</code></td>
<td>returns <code>True</code> if there is next page. Otherwise <code>False</code>.</td>
</tr>
<tr>
<td><code>has_previous()</code></td>
<td>returns <code>True</code> if there is previous page. Otherwise <code>False</code>.</td>
</tr>
<tr>
<td><code>next_page_number()</code></td>
<td>returns next page number. If next page doesn&#39;t exists it throws a <code>django.core.paginator.InvalidPage</code> exception</td>
</tr>
<tr>
<td><code>previous_page_number()</code></td>
<td>returns previous page number. If previous page doesn&#39;t exists it throws a <code>django.core.paginator.InvalidPage</code> exception</td>
</tr>
<tr>
<td><code>paginator</code></td>
<td>This attribute returns the <code>Paginated</code> object attached to the <code>Page</code> object.</td>
</tr>
</tbody>
</table></div>
<p>Open Django shell and let&#39;s try some of the things we have learned so far:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">djangobin.models</span> <span class="kn">import</span> <span class="o">*</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>   <span class="c1"># Creating a Paginator object to show 3 snippet per page</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">&lt;class &#39;django.core.paginator.Paginator&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">count</span>      <span class="c1"># total number of records across all the pages</span>
<span class="go">10</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">num_pages</span>    <span class="c1"># total number of pages</span>
<span class="go">4</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Get the records for the first page:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># creating Page object for the first page.</span>
<span class="go">&gt;&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span>
<span class="go">&lt;Page 1 of 4&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">page1</span><span class="p">)</span>
<span class="go">&lt;class &#39;django.core.paginator.Page&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">object_list</span>   <span class="c1"># get a list of posts for the first page.</span>
<span class="go">&lt;QuerySet [&lt;Snippet: Untitled - Python&gt;, &lt;Snippet: Untitled - Python&gt;, &lt;Snippet: Untitled - Bash&gt;]&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">number</span>
<span class="go">1</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">has_previous</span><span class="p">()</span>
<span class="go">False</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">has_next</span><span class="p">()</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">next_page_number</span><span class="p">()</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">previous_page_number</span><span class="p">()</span>
<span class="gp">... </span>   
<span class="go">django.core.paginator.EmptyPage: That page number is less than 1</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gt">Traceback (most recent call last):  </span>
</pre></div>
</td></tr></tbody></table></div>
<p>To access the <code>Paginator</code> object use the <code>paginator</code> attribute:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">paginator</span>
<span class="go">&lt;django.core.paginator.Paginator object at 0x0000000004331550&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>The <code>page1.paginator</code> and <code>p</code> point to the same object:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">paginator</span> <span class="o">==</span> <span class="n">p</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Once we have access to <code>Paginator</code> object we can access it&#39;s attributes and methods too.</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span><span class="o">.</span><span class="n">paginator</span><span class="o">.</span><span class="n">num_pages</span>
<span class="go">4</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Similarly, we can access the records for the second page:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>      <span class="c1"># creating Page object for the second page.</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="c1"># notice that we are passing a string with integer value</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">object_list</span>
<span class="go">&lt;QuerySet [&lt;Snippet: Untitled - Python&gt;, &lt;Snippet: Untitled - Bash&gt;, &lt;Snippet: Untitled - C&gt;]&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">number</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">has_previous</span><span class="p">()</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">has_next</span><span class="p">()</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">previous_page_number</span><span class="p">()</span>
<span class="go">1</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page2</span><span class="o">.</span><span class="n">next_page_number</span><span class="p">()</span>
<span class="go">3</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pagea</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>     <span class="c1"># Here we are passing string with a non integer value.</span>
<span class="go">....    </span>
<span class="go">django.core.paginator.PageNotAnInteger: That page number is not an integer</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page100</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># Trying to access records for 100th page</span>
<span class="gp">... </span>  
<span class="go">django.core.paginator.EmptyPage: That page contains no results</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>I hope you get the idea here.</p>

<p>Once we have access to the <code>Page</code> object, we can use it in our template to loop over each item in the page. Consider the following code:</p>
<div class="codeblock language-pycon"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">template</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s2">&#34;{</span><span class="si">% f</span><span class="s2">or s in snippets %}&lt;p&gt;{{s}}&lt;/p&gt;{</span><span class="si">% e</span><span class="s2">ndfor %}&#34;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">({</span><span class="s1">&#39;snippets&#39;</span><span class="p">:</span> <span class="n">page1</span> <span class="p">})</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;&lt;p&gt;Untitled - Python&lt;/p&gt;&lt;p&gt;Untitled - Python&lt;/p&gt;&lt;p&gt;Untitled - Bash&lt;/p&gt;&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>So all we need to do to use pagination is to pass the <code>Page</code> object as context variable to the template. That&#39;s it. We don&#39;t need to modify our <code>{% for %}</code> tag to use the <code>Page</code> object in anyway.</p>
<span id="adding-pagination-to-trending-snippet-page" class="anchor-target"></span><h2 class="heading">Adding Pagination to Trending Snippet Page <a class="header-link" href="#adding-pagination-to-trending-snippet-page">#</a></h2>

<p>Our goal here is to paginate snippet list using the following URL pattern:</p>
<div class="codeblock language-text"><div class="highlight"><pre><span></span>/trending/?page=&lt;page_numer&gt;
</pre></div>
</div>
<p>Similarly, to paginate snippet list for a particular language we will use the following URL pattern.</p>
<div class="codeblock language-text"><div class="highlight"><pre><span></span>/trending/&lt;language_slug&gt;/?page=&lt;page_numer&gt;
</pre></div>
</div>
<p>Open <code>views.py</code> and modify <code>trending_snippets()</code> view function as follows:</p>

<p><strong>djangobin/django_project/djangobin/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="hll"><span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span><span class="p">,</span> <span class="n">PageNotAnInteger</span><span class="p">,</span> <span class="n">EmptyPage</span>
</span><span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">SnippetForm</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Language</span><span class="p">,</span> <span class="n">Snippet</span>


<span class="c1">#...</span>
<span class="k">def</span> <span class="nf">trending_snippets</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">language_slug</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="n">lang</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">snippets</span> <span class="o">=</span> <span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span>
    <span class="k">if</span> <span class="n">language_slug</span><span class="p">:</span>
        <span class="n">snippets</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">language__slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>
        <span class="n">lang</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Language</span><span class="p">,</span> <span class="n">slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>
    <span class="n">snippets</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="hll">    <span class="n">paginator</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">snippets</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1"># get the page parameter from the query string</span>
</span><span class="hll">    <span class="c1"># if page parameter is available get() method will return empty string &#39;&#39;</span>
</span><span class="hll">    <span class="n">page</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">try</span><span class="p">:</span>
</span><span class="hll">        <span class="c1"># create Page object for the given page</span>
</span><span class="hll">        <span class="n">posts</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</span><span class="hll">    <span class="k">except</span> <span class="n">PageNotAnInteger</span><span class="p">:</span>
</span><span class="hll">        <span class="c1"># if page parameter in the query string is not available, return the first page</span>
</span><span class="hll">        <span class="n">snippets</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">    <span class="k">except</span> <span class="n">EmptyPage</span><span class="p">:</span>
</span><span class="hll">        <span class="c1"># if the value of the page parameter exceeds num_pages then return the last page</span>
</span><span class="hll">        <span class="n">snippets</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">paginator</span><span class="o">.</span><span class="n">num_pages</span><span class="p">)</span>
</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;djangobin/trending.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;snippets&#39;</span><span class="p">:</span> <span class="n">snippets</span><span class="p">,</span> <span class="s1">&#39;lang&#39;</span><span class="p">:</span> <span class="n">lang</span><span class="p">})</span>
</pre></div>
</td></tr></tbody></table></div>
<p>The code for creating paginated records (from line 16 to 30) will be same all across the views. Rather than copying and pasting the same code over and over again, we can assign the task to a function.</p>

<p>In the <code>utils.py</code> file add <code>paginate_records()</code> function towards the end of the file as follows:</p>

<p><strong>djangobin/django_project/djangobin/utils.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="hll"><span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span><span class="p">,</span> <span class="n">InvalidPage</span><span class="p">,</span> <span class="n">EmptyPage</span><span class="p">,</span> <span class="n">PageNotAnInteger</span>
</span>

<span class="k">def</span> <span class="nf">get_current_user</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1">#...</span>


<span class="hll"><span class="k">def</span> <span class="nf">paginate_result</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">object_list</span><span class="p">,</span> <span class="n">item_per_page</span><span class="p">):</span>
</span><span class="hll">    <span class="n">paginator</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">object_list</span><span class="p">,</span> <span class="n">item_per_page</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="n">page</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">try</span><span class="p">:</span>
</span><span class="hll">        <span class="n">results</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</span><span class="hll">    <span class="k">except</span> <span class="n">PageNotAnInteger</span><span class="p">:</span>
</span><span class="hll">        <span class="c1"># If page is not an integer, deliver first page.</span>
</span><span class="hll">        <span class="n">results</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">    <span class="k">except</span> <span class="n">EmptyPage</span><span class="p">:</span>
</span><span class="hll">        <span class="c1"># If page is out of range (e.g. 9999), deliver last page of results.</span>
</span><span class="hll">        <span class="n">results</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">paginator</span><span class="o">.</span><span class="n">num_pages</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">return</span> <span class="n">results</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Then, update <code>trending_snippets()</code> view in <code>views.py</code> to use <code>paginate_result()</code> function as follows:</p>

<p><strong>djangobin/django_project/djangobin/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="hll"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="p">(</span><span class="n">HttpResponse</span><span class="p">,</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span>
</span><span class="hll">                              <span class="n">get_object_or_404</span><span class="p">,</span> <span class="n">reverse</span><span class="p">,</span> <span class="n">get_list_or_404</span><span class="p">)</span>
</span><span class="c1">#...</span>
<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">SnippetForm</span>
<span class="hll"><span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">paginate_result</span>
</span>

<span class="c1">#...</span>

<span class="k">def</span> <span class="nf">trending_snippets</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">language_slug</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="n">lang</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">snippets</span> <span class="o">=</span> <span class="n">Snippet</span><span class="o">.</span><span class="n">objects</span>
    <span class="k">if</span> <span class="n">language_slug</span><span class="p">:</span>
        <span class="n">snippets</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">language__slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>
        <span class="n">lang</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Language</span><span class="p">,</span> <span class="n">slug</span><span class="o">=</span><span class="n">language_slug</span><span class="p">)</span>

<span class="hll">    <span class="n">snippet_list</span> <span class="o">=</span> <span class="n">get_list_or_404</span><span class="p">(</span><span class="n">snippets</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">exposure</span><span class="o">=</span><span class="s1">&#39;public&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-hits&#39;</span><span class="p">))</span>
</span><span class="hll">    <span class="n">snippets</span> <span class="o">=</span> <span class="n">paginate_result</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">snippet_list</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;djangobin/trending.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;snippets&#39;</span><span class="p">:</span> <span class="n">snippets</span><span class="p">,</span> <span class="s1">&#39;lang&#39;</span><span class="p">:</span> <span class="n">lang</span><span class="p">})</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Next, add pagination links to <code>trending_snippets.html</code> by adding the following code just after the closing <code>&lt;table&gt;</code> tag.</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/trending.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">            &lt;/tr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">empty</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;tr class=&#34;text-center&#34;&gt;</span>
<span class="x">                &lt;td colspan=&#34;4&#34;&gt;There are no snippets.&lt;/td&gt;</span>
<span class="x">            &lt;/tr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        &lt;/tbody&gt;</span>
<span class="x">    &lt;/table&gt;</span>

<span class="hll"><span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.paginator.num_pages</span> <span class="o">&gt;</span> <span class="m">1</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">        &lt;nav aria-label=&#34;...&#34;&gt;</span>
</span><span class="hll"><span class="x">            &lt;ul class=&#34;pager&#34;&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="x">                &lt;li&gt;Page </span><span class="cp">{{</span> <span class="nv">snippets.number</span> <span class="cp">}}</span><span class="x"> of </span><span class="cp">{{</span> <span class="nv">snippets.paginator.num_pages</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.has_previous</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">                    &lt;li&gt;&lt;a href=&#34;?page=</span><span class="cp">{{</span> <span class="nv">snippets.previous_page_number</span> <span class="cp">}}</span><span class="x">&#34;&gt;Previous&lt;/a&gt;&lt;/li&gt;</span>
</span><span class="hll"><span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll">
</span><span class="hll"><span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.has_next</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">                    &lt;li&gt;&lt;a href=&#34;?page=</span><span class="cp">{{</span> <span class="nv">snippets.next_page_number</span> <span class="cp">}}</span><span class="x">&#34;&gt;Next&lt;/a&gt;&lt;/li&gt;</span>
</span><span class="hll"><span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="hll"><span class="x">            &lt;/ul&gt;</span>
</span><span class="hll"><span class="x">        &lt;/nav&gt;</span>
</span><span class="hll"><span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Open your browser and visit <code>http://127.0.0.1:8000/trending/</code>. You will see pagination links below the table as follows:</p>

<p><img src="../../media/uploads/2018/5/28/Selection_179-dd0a4551-8200-4f0b-82c3-193113329079.png" loading="lazy" alt=""/></p>
<span id="creating-tag-page" class="anchor-target"></span><h2 class="heading">Creating Tag Page <a class="header-link" href="#creating-tag-page">#</a></h2>

<p>The goal of this section is to create a Tag page which allows users to browse snippets from a particular tag.</p>

<p>Open <code>views.py</code> and modify <code>tag_list</code> view as follows:</p>

<p><strong>djangobin/django_project/djangobin/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">SnippetForm</span>
<span class="hll"><span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Language</span><span class="p">,</span> <span class="n">Snippet</span><span class="p">,</span> <span class="n">Tag</span>
</span><span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">paginate_result</span>

<span class="c1">#...</span>
<span class="k">def</span> <span class="nf">trending_snippets</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">language_slug</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="c1">#...</span>

<span class="k">def</span> <span class="nf">tag_list</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
<span class="hll">    <span class="n">t</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Tag</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>
</span><span class="hll">    <span class="n">snippet_list</span> <span class="o">=</span> <span class="n">get_list_or_404</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">snippet_set</span><span class="p">)</span>
</span><span class="hll">    <span class="n">snippets</span> <span class="o">=</span> <span class="n">paginate_result</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">snippet_list</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;djangobin/tag_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;snippets&#39;</span><span class="p">:</span> <span class="n">snippets</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="n">t</span><span class="p">})</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Create a template named <code>tag_list.html</code> in the djangobin app and add the following code to it:</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/tag_list.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;djangobin/base.html&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">load</span> <span class="nv">static</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">load</span> <span class="nv">humanize</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Snippets tagged &#34;</span><span class="cp">{{</span> <span class="nv">tag.name</span> <span class="cp">}}</span><span class="x">&#34; - </span><span class="cp">{{</span> <span class="nb">block</span><span class="nv">.super</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">main</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">    &lt;h5&gt;&lt;i class=&#34;fas fa-tag&#34;&gt;&lt;/i&gt; Snippets tagged: </span><span class="cp">{{</span> <span class="nv">tag.name</span> <span class="cp">}}</span><span class="x">&lt;/h5&gt;</span>
<span class="x">    &lt;hr&gt;</span>

<span class="x">    &lt;table class=&#34;table&#34;&gt;</span>
<span class="x">        &lt;thead&gt;</span>
<span class="x">        &lt;tr&gt;</span>
<span class="x">            &lt;th&gt;Title&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Date&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Hits&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;Language&lt;/th&gt;</span>
<span class="x">            &lt;th&gt;User&lt;/th&gt;</span>
<span class="x">        &lt;/tr&gt;</span>
<span class="x">        &lt;/thead&gt;</span>
<span class="x">        &lt;tbody&gt;</span>

<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">snippet</span> <span class="k">in</span> <span class="nv">snippets</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;tr&gt;</span>
<span class="x">                &lt;td&gt;&lt;i class=&#34;fas fa-globe&#34;&gt;&lt;/i&gt;</span>
<span class="x">                    &lt;a href=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.get_absolute_url</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.title</span><span class="o">|</span><span class="nf">default</span><span class="s2">:&#34;Untitled&#34;</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;</span>
<span class="x">                &lt;/td&gt;</span>
<span class="x">                &lt;td&gt;</span><span class="cp">{{</span> <span class="nv">snippet.created_on</span><span class="o">|</span><span class="nf">naturaltime</span> <span class="cp">}}</span><span class="x">&lt;/td&gt;</span>
<span class="x">                &lt;td&gt;</span><span class="cp">{{</span> <span class="nv">snippet.hits</span> <span class="cp">}}</span><span class="x">&lt;/td&gt;</span>
<span class="x">                &lt;td&gt;&lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;djangobin:trending_snippets&#39;</span> <span class="nv">snippet.language.slug</span>  <span class="cp">%}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.language</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">snippet.user.profile.private</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;td&gt;&lt;a href=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.user.profile.get_absolute_url</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.user.username</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;td&gt;-&lt;/td&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">            &lt;/tr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        &lt;/tbody&gt;</span>
<span class="x">    &lt;/table&gt;</span>

<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.paginator.num_pages</span> <span class="o">&gt;</span> <span class="m">1</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;nav aria-label=&#34;...&#34;&gt;</span>
<span class="x">            &lt;ul class=&#34;pager&#34;&gt;</span>

<span class="x">                &lt;li&gt;Page </span><span class="cp">{{</span> <span class="nv">snippets.number</span> <span class="cp">}}</span><span class="x"> of </span><span class="cp">{{</span> <span class="nv">snippets.paginator.num_pages</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>

<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.has_previous</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;li&gt;&lt;a href=&#34;?page=</span><span class="cp">{{</span> <span class="nv">snippets.previous_page_number</span> <span class="cp">}}</span><span class="x">&#34;&gt;Previous&lt;/a&gt;&lt;/li&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippets.has_next</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;li&gt;&lt;a href=&#34;?page=</span><span class="cp">{{</span> <span class="nv">snippets.next_page_number</span> <span class="cp">}}</span><span class="x">&#34;&gt;Next&lt;/a&gt;&lt;/li&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;/ul&gt;</span>
<span class="x">        &lt;/nav&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Nothing new here, this template is almost similar to the trending snippets page.</p>

<p>Update <code>snippet_detail.html</code> template to display links to tag list page as follows:</p>

<p><strong>djangobin/django_project/djangobin/templates/djangobin/snippet_detail.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">        &lt;div class=&#34;media-body&#34;&gt;</span>
<span class="x">            &lt;h4 class=&#34;media-heading&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.title</span><span class="o">|</span><span class="nf">default</span><span class="s2">:&#34;Untitled&#34;</span> <span class="cp">}}</span><span class="x">&lt;/h4&gt;</span>
<span class="x">            &lt;p&gt;</span>
<span class="x">                &lt;i class=&#34;fas fa-user&#34; data-toggle=&#34;tooltip&#34; title=&#34;&#34; data-original-title=&#34;Paste creator&#34;&gt;&lt;/i&gt; by</span>
<span class="x">                </span><span class="cp">{{</span> <span class="nv">snippet.user.username</span><span class="o">|</span><span class="nf">capfirst</span> <span class="cp">}}</span><span class="x"> &amp;nbsp;</span>
<span class="x">                &lt;i class=&#34;fas fa-calendar-alt&#34; data-toggle=&#34;tooltip&#34; title=&#34;&#34; data-original-title=&#34;Creation Date&#34; &gt;&lt;/i&gt;</span>
<span class="x">                &lt;time title=&#34;</span><span class="cp">{{</span> <span class="nv">snippet.created_on</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">snippet.created_on</span><span class="o">|</span><span class="nf">date</span><span class="s2">:&#34;M jS,  Y&#34;</span> <span class="cp">}}</span><span class="x">&lt;/time&gt; &amp;nbsp;&lt;/span&gt;</span>
<span class="x">                &lt;i class=&#34;fas fa-eye&#34;  data-toggle=&#34;tooltip&#34; title=&#34;&#34; data-original-title=&#34;Visits to this paste&#34; &gt;&lt;/i&gt;</span>
<span class="x">                </span><span class="cp">{{</span> <span class="nv">snippet.hits</span> <span class="cp">}}</span><span class="x"> &amp;nbsp;&amp;nbsp;</span>
<span class="x">                &lt;i class=&#34;fas fa-stopwatch&#34; data-toggle=&#34;tooltip&#34; title=&#34;&#34; data-original-title=&#34;Expiration time&#34;&gt;&lt;/i&gt;</span>
<span class="x">                </span><span class="cp">{{</span> <span class="nv">snippet.expiration</span> <span class="cp">}}</span><span class="x">  &amp;nbsp;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">snippet.tags.all</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                    &lt;i class=&#34;fas fa-tags&#34; data-toggle=&#34;tooltip&#34; title=&#34;&#34; data-original-title=&#34;Tags&#34;&gt;&lt;/i&gt;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">snippet.tags.all</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">                        &lt;a href=&#34;</span><span class="cp">{{</span> <span class="nv">tag.get_absolute_url</span> <span class="cp">}}</span><span class="x">&#34;&gt;</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;</span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nb">forloop</span><span class="nv">.last</span> <span class="cp">%}</span><span class="x">,</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</span><span class="x">                    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;/p&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="c">{# ... #}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Open your browser and click on any tag in the snippet detail page. You should see tag list page like this:</p>

<p><img src="../../media/uploads/2018/5/28/Selection_230-ea969df7-c6d6-418e-a052-8a4523cfe653.png" loading="lazy" alt=""/></p>

<p><img src="../../media/uploads/2018/5/28/Selection_231-a925ca0e-36e2-4da8-9af1-8ad58958ec6c.png" loading="lazy" alt=""/></p>



    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../building-djangobin-the-first-steps/index.html" title="Building Djangobin - The First Steps">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Building Djangobin - The First Steps
                        </a>
                    </li>
                

                
                    <li class="next">
                        <a href="../building-contact-us-form/index.html" title="Building Contact Us Form">
                            Building Contact Us Form
                            <span class="fa fa-arrow-right" aria-hidden="true"></span>
                        </a>
                    </li>
                
            </ul>
        </nav>







    <hr/>
    <div id="disqus_thread">
    <p style="margin-bottom: 10px" class="text-center">
        <a href="#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">
            <i class="fa fa-comments" aria-hidden="true"></i> Load Comments
        </a>
    </p>
    </div>
    <hr/>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '../../../overiqcom.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        
    <div class="well">
        <h4>Django 1.11 Tutorial</h4>
        <ul>
            
                <li><a href="../intro-to-django/index.html">Intro to Django</a></li>
            
                <li><a href="../installing-django/index.html">Installing Django</a></li>
            
                <li><a href="../creating-django-project/index.html">Creating Django Project</a></li>
            
                <li><a href="../mvc-pattern-and-django/index.html">MVC Pattern and Django</a></li>
            
                <li><a href="../views-and-urlconfs-in-django/index.html">Views and URLconfs in Django</a></li>
            
                <li><a href="../creating-urls-and-custom-response/index.html">Creating URLs and Custom Response</a></li>
            
                <li><a href="../basics-of-django-templates/index.html">Basics of Django Templates</a></li>
            
                <li><a href="../template-tags-in-django/index.html">Template tags in Django</a></li>
            
                <li><a href="../template-filters-in-django/index.html">Template filters in Django</a></li>
            
                <li><a href="../loading-templates-in-django/index.html">Loading Templates in Django</a></li>
            
                <li><a href="../template-inheritance-in-django/index.html">Template Inheritance in Django</a></li>
            
                <li><a href="../basics-of-models-in-django/index.html">Basics of Models in Django</a></li>
            
                <li><a href="../migrations-in-django/index.html">Migrations in Django</a></li>
            
                <li><a href="../django-orm-basics-part-1/index.html">Django ORM Basics Part 1</a></li>
            
                <li><a href="../django-orm-basics-part-2/index.html">Django ORM Basics Part 2</a></li>
            
                <li><a href="../django-admin-app/index.html">Django Admin App</a></li>
            
                <li><a href="../django-authentication-framework-basics/index.html">Django Authentication Framework Basics</a></li>
            
                <li><a href="../data-migrations-in-django/index.html">Data migrations in Django</a></li>
            
                <li><a href="../django-form-basics/index.html">Django Form Basics</a></li>
            
                <li><a href="../displaying-forms-in-django/index.html">Displaying Forms in Django</a></li>
            
                <li><a href="../django-rendering-form-fields-manually/index.html">Django Rendering Form Fields Manually</a></li>
            
                <li><a href="../handling-static-content-in-django/index.html">Handling Static Content in Django</a></li>
            
                <li><a href="../handling-media-files-in-django/index.html">Handling Media Files in Django</a></li>
            
                <li><a href="../building-djangobin-the-first-steps/index.html">Building Djangobin - The First Steps</a></li>
            
                <li><a href="index.html">Creating Trending Snippet Page</a></li>
            
                <li><a href="../building-contact-us-form/index.html">Building Contact Us Form</a></li>
            
                <li><a href="../django-logging-users-in-and-out/index.html">Django Logging Users In and Out</a></li>
            
                <li><a href="../user-registration-in-django/index.html">User Registration in Django</a></li>
            
                <li><a href="../building-profile-pages-for-djangobin/index.html">Building profile pages for Djangobin</a></li>
            
                <li><a href="../searching-snippets/index.html">Searching Snippets</a></li>
            
                <li><a href="../asynchronous-tasks-with-celery/index.html">Asynchronous Tasks with Celery</a></li>
            
                <li><a href="../flatpages-in-django/index.html">Flatpages in Django</a></li>
            
                <li><a href="../creating-sitemaps-in-django/index.html">Creating Sitemaps in Django</a></li>
            
                <li><a href="../settings-for-multiple-environments-in-django/index.html">Settings for Multiple Environments in Django</a></li>
            
                <li><a href="../deploying-django-project-to-digitalocean/index.html">Deploying Django Project to DigitalOcean</a></li>
            
        </ul>
    </div>

    

    
        

<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../../machine-learning-experts-you-should-be-following-online/index.html">Machine Learning Experts You Should Be Following Online</a></li>
        
            <li><a href="../../4-ways-to-prepare-for-the-ap-computer-science-a-exam/index.html">4 Ways to Prepare for the AP Computer Science A Exam</a></li>
        
            <li><a href="../../finance-assignment-online-help-for-the-busy-and-tired-students-get-help-from-experts/index.html">Finance Assignment Online Help for the Busy and Tired Students: Get Help from Experts</a></li>
        
            <li><a href="../../top-9-machine-learning-algorithms-for-data-scientists/index.html">Top 9 Machine Learning Algorithms for Data Scientists</a></li>
        
            <li><a href="../../data-science-learning-path-or-steps-to-become-a-data-scientist-final/index.html">Data Science Learning Path or Steps to become a data scientist Final</a></li>
        
            <li><a href="../../enable-edit-button-in-shutter-in-linux-mint-19-and-ubuntu-18-04/index.html">Enable Edit Button in Shutter In Linux Mint 19 and Ubuntu 18.04</a></li>
        
            <li><a href="../../python-3-time-module/index.html">Python 3 time module</a></li>
        
            <li><a href="../../pygments-tutorial/index.html">Pygments Tutorial</a></li>
        
            <li><a href="../../how-to-use-virtualenv/index.html">How to use Virtualenv?</a></li>
        
            <li><a href="../../installing-mysql-windows-linux-and-mac/index.html">Installing MySQL (Windows, Linux and Mac)</a></li>
        
            <li><a href="../../what-is-if-__name__-__main__-in-python/index.html">What is if __name__ == &#39;__main__&#39;  in Python ?</a></li>
        
            <li><a href="../../installing-goaccess-a-real-time-web-log-analyzer/index.html">Installing GoAccess (A Real-time web log analyzer)</a></li>
        
            <li><a href="../../installing-isso/index.html">Installing Isso</a></li>
        
    </ul>
</div>

<!-- Blog Search Well -->





















    



            </div>
        </div>
    </div>



    

</div>

<!-- Footer -->
<footer class="overiq-footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../../sitemap.xml/index.html">Sitemap</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../contact/index.html">Contact</a></li>
                    <li><a href="../../blog/index.html">Blog</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="https://www.facebook.com/OverIQ/">Facebook</a></li>
                    <li><a href="https://twitter.com/infoOverIQ">Twitter</a></li>
                    <li><a href="https://github.com/overiq">Github</a></li>
                </ul>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../c-programming-101/index.html">C Tutorial</a></li>
                    <li><a href="../../python-101/index.html">Python Tutorial</a></li>
                    <li><a href="../index.html">Django Tutorial</a></li>
                    <li><a href="../../flask-101/index.html">Flask Tutorial</a></li>
                    <li><a href="../../mysql-connector-python-101/index.html">MySQL Connector/Python Tutorial</a></li>
                    <li><a href="../../sqlalchemy-101/index.html">SQLAlchemy Tutorial</a></li>
                    <li><a href="../../c-examples/index.html">C Programming Examples</a></li>
                </ul>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row text-center">
            <p>© 2025 OverIQ.com</p>
            <small><a href="#">Back to top</a></small>
        </div>

        <!-- /.row -->
    </div>
</footer>



<script type="text/javascript" src="../../static/CACHE/js/output.2e0ff002c1a4.js"></script>




<script async="" src="../../../cdn.jsdelivr.net/npm/cookieconsent%403/build/cookieconsent.min.js" data-cfasync="false"></script>

<script>

    
    window.addEventListener('load', function () {
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#5ca9e0",
                    "text": "#ffffff"
                },
                "button": {
                    "background": "#fff",
                    "text": "#237afc"
                }
            },
            "theme": "classic",
            "position": "top",
            "static": true,
            "content": {
                "href": "https://overiq.com/privacy-policy/"
            }
        });
    });


</script>

<script src="../../../polyfill.io/v3/polyfill.min1162.js?features=es6"></script>
<script id="MathJax-script" defer="" src="../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml.js"></script>

<script async="" type="text/javascript" src="../../../cdn.carbonads.com/carbonfbdb.js?serve=CE7DC53E&amp;placement=overiqcom" id="_carbonads_js"></script>





<script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.overiq.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body>
<!-- Mirrored from overiq.com/django-1-11/creating-trending-snippet-page/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:14:21 GMT -->
</html>