<!DOCTYPE html><html lang="en">
<!-- Mirrored from overiq.com/mysql-connector-python-101/using-connector-python-c-extension/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:16:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/>
<script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force){var setScript=function(){if(force||window.ezTcfConsent[category]){var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script>
<script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=true;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET/index.html","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot={};__ez.queue.addFile('../../detroitchicago/boise.js', '../../detroitchicago/boisebb26.js?gcb=195-3&amp;cb=5', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/abilene.js', '../../parsonsmaize/abilenec0f9.js?gcb=195-3&amp;cb=7f81d60744', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/mulvane.js', '../../parsonsmaize/mulvane2d63.js?gcb=195-3&amp;cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFile('../../detroitchicago/birmingham.js', '../../detroitchicago/birminghame7ec.js?gcb=195-3&amp;cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain_id":92771,"ezcache_level":1,"ezcache_skip_code":0,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":0,"lt_cache_level":0,"response_size":90225,"response_size_orig":84457,"response_time_orig":426,"template_id":5,"url":"https://overiq.com/mysql-connector-python-101/using-connector-python-c-extension/","word_count":0,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6],"omd5":"d346439b45c76cb2e351187f4a6937db"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST/index.html','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><base />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Using Connector/Python C Extension - MySQL Connector/Python Tutorial - OverIQ.com</title>

    
    



    <meta name="description" content="So far in this series we have only used pure Python implementation of MySQL Connector/Python. In this lesson, we will see how we can leverage the C e…"/>



    <link rel="canonical" href="index.html"/>


<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Using Connector/Python C Extension"/>

    <meta property="og:description" content="So far in this series we have only used pure Python implementation of MySQL Connector/Python. In this lesson, we will see how we can leverage the C e…"/>


<meta property="og:url" content="https://overiq.com/mysql-connector-python-101/using-connector-python-c-extension/"/>
<meta property="og:site_name" content="OverIQ.com"/>


<meta property="article:publisher" content="https://www.facebook.com/OverIQ/"/>



<meta name="twitter:card" content="summary_large_image"/>

    <meta name="twitter:description" content="So far in this series we have only used pure Python implementation of MySQL Connector/Python. In this lesson, we will see how we can leverage the C e…"/>


<meta name="twitter:title" content="Using Connector/Python C Extension"/>
<meta name="twitter:site" content="@infoOverIQ"/>

<meta name="twitter:creator" content="@infoOverIQ"/>




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../feed.xml/index.html"/>
    
    
    <link href="../../../fonts.googleapis.com/cssd2d5.css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="../../static/wiki/favicon.png" sizes="32x32"/>

    <link rel="stylesheet" href="../../static/CACHE/css/output.db46da465a8b.css" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-125424793-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125424793-1');
    </script>


<script type='text/javascript'>
var ezoTemplate = 'orig_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 92771;
var ezdomain = 'overiq.com';
var ezoicSearchable = 1;
</script></head>
<body>

<div class="overiq-header text-center">
    <div class="site-branding">
        <p class="main-title">
            <a href="../../index.html" rel="home">
                OverIQ.com
            </a>
        </p>
    </div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li>
                    <a href="../../blog/index.html">Blog</a>
                </li>
                <li>
                    <a href="../../contact/index.html">Contact</a>
                </li>
                <li>
                    <a href="../../about/index.html">About</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right visible-lg visible-md">
                <li>
                    <a href="../../feed.xml/index.html" title="RSS" target="_blank">
                        <i class="fa fa-rss fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/overiq/" target="_blank" title="Github">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.facebook.com/OverIQ/" target="_blank" title="Facebook">
                        <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/infoOverIQ" target="_blank" title="Twitter">
                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
                    </a>
                </li>

                

            </ul>

            <form action="https://overiq.com/search/" class="navbar-form navbar-left" role="search">

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="query" value=""/>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </form>

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    


    <div class="se-pre-con"></div>

    

    <div class="row">

        
        <div class="main">
            <div class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        <ol class="breadcrumb">

    <li><a href="../../index.html">Home</a></li>

    
        
        <li><a href="../index.html">MySQL Connector/Python Tutorial</a></li>
        

        

        
    
        

        

        
            <li class="active">Using Connector/Python C Extension</li>
        
    

</ol>
    


<h1>Using Connector/Python C Extension</h1>




    <p><i class="fa fa-calendar" aria-hidden="true"></i>
        Last updated on July 27, 2020
    </p>


<hr/>



<p>So far in this series we have only used pure Python implementation of MySQL Connector/Python. In this lesson, we will see how we can leverage the C extension provided by the Connector/Python.</p>

<p>The C extension was introduced in version 2.1 of Connector/Python. Since version 8.0, the C extension is enabled by default. The C extension is commonly used in production environment when dealing with large result sets.</p>

<p>We can enable the C extension in two different ways:</p>

<ol>
<li><p>Call the <code>mysql.connector.connect()</code> function with <code>use_pure</code> argument set to <code>False</code>. But, since version 8.0, the <code>use_pure</code> argument defaults to <code>False</code>, so you don&#39;t actually need to pass it to the <code>connect()</code> function. However, if you are using an older version of Connector/Python then you will need to pass <code>use_pure=False</code> to the <code>connect()</code> function, otherwise, the pure Python implementation will be used, by default. If the <code>use_pure</code> is set to <code>False</code> and C extension is not installed on the system, then the pure Python implementation will be used.</p></li>
<li><p>Another way to use the C extension is to import <code>_mysql_connector</code> module instead of <code>mysql.connector</code>. The <code>_mysql_connector</code> module is simply a wrapper around the original MySQL C Client library. The disadvantage of using <code>_mysql_connector</code> module is that the its API is different than <code>mysql.connector</code>, and closely resembles to MySQL C client library.</p></li>
</ol>

<p>Since all the examples we have seen so far, uses pure Python implementation of Connector/Python, the rest of the lesson only discusses how to use the C extension via the <code>_mysql_connector</code> module.</p>
<span id="_mysql_connector-module" class="anchor-target"></span><h2 class="heading">_mysql_connector module <a class="header-link" href="#_mysql_connector-module">#</a></h2>
<span id="simple-select" class="anchor-target"></span><h2 class="heading">Simple Select <a class="header-link" href="#simple-select">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>
<span class="kn">from</span> <span class="nn">mysql.connector.constants</span> <span class="kn">import</span> <span class="n">ClientFlag</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city limit 5&#39;</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 0
(1, b&#39;Kabul&#39;, b&#39;AFG&#39;, b&#39;Kabol&#39;, 1780000)
(2, b&#39;Qandahar&#39;, b&#39;AFG&#39;, b&#39;Qandahar&#39;, 237500)
(3, b&#39;Herat&#39;, b&#39;AFG&#39;, b&#39;Herat&#39;, 186800)
(4, b&#39;Mazar-e-Sharif&#39;, b&#39;AFG&#39;, b&#39;Balkh&#39;, 127800)
(5, b&#39;Amsterdam&#39;, b&#39;NLD&#39;, b&#39;Noord-Holland&#39;, 731200)
Rows: 5
</pre></div>
</td></tr></tbody></table></div>
<p>Here is how it works:</p>

<ol>
<li><p>The first step in connection to the database is to initialize an instance of <code>MySQL</code> class. The <code>MySQL</code> instance is used to open and manage connection. It is also used to execute statements and read result set.</p></li>
<li><p>In line 2, we call the <code>connect()</code> method of the <code>MySQL</code> instance to connect to the database. The <code>connect()</code> method takes connection credentials as arguments.</p></li>
<li><p>In line 4, we use the <code>query()</code> method to execute the SQL statement. Note that we are not creating any cursor object before sending the query to the database. On success, the <code>query()</code> method returns <code>True</code>, otherwise an exception is raised.</p></li>
<li><p>In line 5, we call <code>num_rows()</code> method to fetch the number of rows in the result set. The number of rows in the result set can only be determined after fetching the rows from the database. By default, the <code>MySQL</code> instance doesn&#39;t buffers(stores) the result set. What this means is that the rows are not fetched until you call a row fetching method. In other words, rows are fetched on demand. At this point, we haven&#39;t fetch any rows, so the call to <code>num_rows()</code> method will return 0. We will see how to create buffered <code>MySQL</code> instance in the next section.</p></li>
<li><p>In line 22, we use the <code>have_result_set</code> attribute to check whether the query returns rows or not. If the query returns rows, then the <code>have_result_set</code> returns <code>True</code>, otherwise <code>False</code>. Note that this attribute only indicates whether the query can produce rows or not. It doesn&#39;t actually count the number of rows in the result set. This means that for <code>SELECT</code> statements returning zero results, the <code>have_result_set</code> attribute would return <code>True</code>.</p></li>
<li><p>In line 23 and 27, we use the <code>fetch_row()</code> method to fetch the rows from the result. The <code>fetch_row()</code> method returns the next row from the reset set or <code>None</code> if the result set is exhausted. The row is returned as a tuple.</p></li>
<li><p>In line 28, we call the <code>num_rows()</code> method again. But this time we have read all the rows (i.e 5) from the result set. So, the <code>num_rows()</code> will return the actual row count instead of 0.</p></li>
<li><p>In line 30, we call <code>free_result()</code> method to free the memory associated with the result set.</p></li>
<li><p>In line 32, we close the connection to the database by calling the <code>close()</code> method.</p></li>
<li><p>Finally, in line 34, we use <code>_mysql_connector.MySQLError</code> class to catch exceptions. Unlike, the <code>mysql.connector</code> module which consists of various exception classes. The <code>_mysql_connector</code> module only provides following two exception classes:</p>

<ol>
<li><code>MySQLError</code></li>
<li><code>MySQLInterfaceError</code></li>
</ol>

<p>The <code>MySQLError</code> is a subclass of <code>Exception</code> and <code>MySQLInterfaceError</code> is a subclass of <code>MySQLError</code>. Thus, we can use <code>MySQLError</code> for any error returned by MySQL server. If you want to catch some specific error use the MySQL error code as usual. We will see an example of this later in this lesson.</p></li>
</ol>
<span id="common-arguments-of-mysql-constructor" class="anchor-target"></span><h2 class="heading">Common Arguments of <code>MySQL</code> constructor <a class="header-link" href="#common-arguments-of-mysql-constructor">#</a></h2>

<p>The following table lists some common arguments that we can pass to the <code>MySQL</code> constructor to customize its default behavior.</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>buffered</code></td>
<td>If set to <code>True</code>, the rows are immediately fetched after executing the query, otherwise the rows are fetched on demand. It defaults to <code>False</code>.</td>
</tr>
<tr>
<td><code>raw</code></td>
<td>If set to <code>True</code>, conversion between MySQL types to its equivalent Python type, will not take place and the results will be returned as it is. It defaults to <code>True</code>.</td>
</tr>
<tr>
<td><code>charset_name</code></td>
<td>Character set to use when sending the data to and from the database server.</td>
</tr>
<tr>
<td><code>use_unicode</code></td>
<td>If set to <code>True</code>, <code>CHAR</code>, <code>VARCHAR</code> and <code>TEXT</code> are returned as unicode strings, using the configured character set (via the <code>charset_name</code> argument)</td>
</tr>
</tbody>
</table></div>
<p>Let&#39;s see some examples on how to use these arguments nows:</p>

<p>Example 1: Using <code>buffered</code> argument</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city limit 5&#39;</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 5
(1, b&#39;Kabul&#39;, b&#39;AFG&#39;, b&#39;Kabol&#39;, 1780000)
(2, b&#39;Qandahar&#39;, b&#39;AFG&#39;, b&#39;Qandahar&#39;, 237500)
(3, b&#39;Herat&#39;, b&#39;AFG&#39;, b&#39;Herat&#39;, 186800)
(4, b&#39;Mazar-e-Sharif&#39;, b&#39;AFG&#39;, b&#39;Balkh&#39;, 127800)
(5, b&#39;Amsterdam&#39;, b&#39;NLD&#39;, b&#39;Noord-Holland&#39;, 731200)
Rows: 5
</pre></div>
</td></tr></tbody></table></div>
<p>Since, we are using buffered <code>MySQL</code> instance, the rows are fetched immediately after executing the query and the first call to <code>num_rows()</code> returns the actual row count rather than 0.</p>

<p>Example 2: Using <code>raw</code> argument</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">,)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city limit 5&#39;</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 5
(bytearray(b&#39;1&#39;), bytearray(b&#39;Kabul&#39;), bytearray(b&#39;AFG&#39;), bytearray(b&#39;Kabol&#39;), bytearray(b&#39;1780000&#39;))
(bytearray(b&#39;2&#39;), bytearray(b&#39;Qandahar&#39;), bytearray(b&#39;AFG&#39;), bytearray(b&#39;Qandahar&#39;), bytearray(b&#39;237500&#39;))
(bytearray(b&#39;3&#39;), bytearray(b&#39;Herat&#39;), bytearray(b&#39;AFG&#39;), bytearray(b&#39;Herat&#39;), bytearray(b&#39;186800&#39;))
(bytearray(b&#39;4&#39;), bytearray(b&#39;Mazar-e-Sharif&#39;), bytearray(b&#39;AFG&#39;), bytearray(b&#39;Balkh&#39;), bytearray(b&#39;127800&#39;))
(bytearray(b&#39;5&#39;), bytearray(b&#39;Amsterdam&#39;), bytearray(b&#39;NLD&#39;), bytearray(b&#39;Noord-Holland&#39;), bytearray(b&#39;731200&#39;))
Rows: 5
</pre></div>
</td></tr></tbody></table></div>
<p>Example 3: Using <code>charset_name</code> and <code>use_unicode</code></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">charset_name</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="n">use_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city order by name desc limit 5&#39;</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 5
(548, &#39;Šumen&#39;, &#39;BGR&#39;, &#39;Varna&#39;, 94686)
(3736, &#39;Štšolkovo&#39;, &#39;RUS&#39;, &#39;Moskova&#39;, 104900)
(3479, &#39;Šostka&#39;, &#39;UKR&#39;, &#39;Sumy&#39;, 90000)
(2450, &#39;Šiauliai&#39;, &#39;LTU&#39;, &#39;Šiauliai&#39;, 146563)
(3665, &#39;Šahty&#39;, &#39;RUS&#39;, &#39;Rostov-na-Donu&#39;, 221800)
Rows: 5
</pre></div>
</td></tr></tbody></table></div>
<p>If you don&#39;t pass <code>charset_name</code> and <code>use_unicode</code> arguments to <code>MySQL()</code> constructor, then the output will look like this:</p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 5
(548, b&#39;\x8aumen&#39;, b&#39;BGR&#39;, b&#39;Varna&#39;, 94686)
(3736, b&#39;\x8at\x9aolkovo&#39;, b&#39;RUS&#39;, b&#39;Moskova&#39;, 104900)
(3479, b&#39;\x8aostka&#39;, b&#39;UKR&#39;, b&#39;Sumy&#39;, 90000)
(2450, b&#39;\x8aiauliai&#39;, b&#39;LTU&#39;, b&#39;\x8aiauliai&#39;, 146563)
(3665, b&#39;\x8aahty&#39;, b&#39;RUS&#39;, b&#39;Rostov-na-Donu&#39;, 221800)
Rows: 5
</pre></div>
</td></tr></tbody></table></div><span id="column-information" class="anchor-target"></span><h2 class="heading">Column Information <a class="header-link" href="#column-information">#</a></h2>

<p>To get the info about columns in the table we use the <code>fetch_fields()</code> method. It returns a list of tuples, one tuple per column..</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>
<span class="kn">from</span> <span class="nn">mysql.connector.constants</span> <span class="kn">import</span> <span class="n">FieldType</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city limit 5&#39;</span><span class="p">)</span>

    <span class="n">fields_info</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_fields</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;{:15} {:10} {:15}&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&#34;Column Name&#34;</span><span class="p">,</span> <span class="s2">&#34;Type&#34;</span><span class="p">,</span> <span class="s2">&#34;NULL_OK&#34;</span><span class="p">,</span> <span class="p">))</span>

    <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">fields_info</span><span class="p">:</span>
        <span class="c1"># print(info)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;{:15} {:&lt;10} {:&lt;15}&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">info</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span>
            <span class="n">FieldType</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]),</span>
            <span class="n">info</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

    <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Column Name     Type       NULL_OK        
ID              LONG       0              
Name            STRING     0              
CountryCode     STRING     0              
District        STRING     0              
Population      LONG       0
</pre></div>
</td></tr></tbody></table></div><span id="escaping-strings-and-passing-arguments" class="anchor-target"></span><h2 class="heading">Escaping Strings and Passing Arguments <a class="header-link" href="#escaping-strings-and-passing-arguments">#</a></h2>

<p>Before passing the user input to your queries you must escape it. Escaping is done with with the help of <code>escape_string()</code> method. It takes a string and returns the escaped string as <code>bytes</code>. Here is an example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">escape_string</span><span class="p">(</span><span class="s2">&#34;delete from category;&#34;</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;delete from category;&#39;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">escape_string</span><span class="p">(</span><span class="s2">&#34;&#39;Another string&#39;&#34;</span><span class="p">)</span>
<span class="sa">b</span><span class="s2">&#34;</span><span class="se">\\</span><span class="s2">&#39;Another string</span><span class="se">\\</span><span class="s2">&#39;&#34;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>We can convert <code>bytes</code> type to <code>str</code> as follows:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">escape_string</span><span class="p">(</span><span class="s2">&#34;&#39;&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&#34;utf8&#34;</span><span class="p">)</span>
<span class="s2">&#34;</span><span class="se">\\</span><span class="s2">&#39;&#34;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">escape_string</span><span class="p">(</span><span class="s2">&#34;&#39;Another string&#39;&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&#34;utf8&#34;</span><span class="p">)</span>
<span class="s2">&#34;</span><span class="se">\\</span><span class="s2">&#39;Another string</span><span class="se">\\</span><span class="s2">&#39;&#34;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Once we have escaped the input, we can safely pass it to the query.</p>

<p>The code in the following listing takes a keyword from the user and returns all the cities whose name contain that keyword.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                <span class="n">charset_name</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
                                <span class="n">use_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">city</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;Enter keyword: &#34;</span><span class="p">)</span>
    <span class="n">cleaned_city</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">escape_string</span><span class="p">(</span><span class="n">city</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="c1"># escape the string entered</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city where name &#39;</span>
             <span class="s1">&#39;like &#34;%{}%&#34; limit 5&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cleaned_city</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">():</span>

        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">List of cities containing &#39;{}&#39; in their &#34;</span>
              <span class="s2">&#34;name.</span><span class="se">\n</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cleaned_city</span><span class="p">))</span>

        <span class="c1"># print(&#34;Rows:&#34;, db.num_rows())</span>

        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;{:&lt;5} {:&lt;20} {:10} {:15} {:10}&#34;</span><span class="o">.</span><span class="n">format</span>
              <span class="p">(</span><span class="s2">&#34;ID&#34;</span><span class="p">,</span> <span class="s2">&#34;City&#34;</span><span class="p">,</span> <span class="s2">&#34;Country&#34;</span><span class="p">,</span> <span class="s2">&#34;District&#34;</span><span class="p">,</span> <span class="s2">&#34;Population&#34;</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
            <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&#34;{:&lt;5} {:&lt;20} {:10} {:15} {:10}&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                  <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                  <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                                  <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                                  <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Nothing Found :(&#34;</span><span class="p">)</span>

        <span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Enter keyword: de

List of cities containing &#39;de&#39; in their name.

ID    City                 Country    District        Population
15    Enschede             NLD        Overijssel          149544
24    Leiden               NLD        Zuid-Holland        117196
29    Ede                  NLD        Gelderland          101574
30    Delft                NLD        Zuid-Holland         95268
73    Lomas de Zamora      ARG        Buenos Aires        622013

Rows: 5
</pre></div>
</td></tr></tbody></table></div><span id="executing-multiple-queries" class="anchor-target"></span><h2 class="heading">Executing Multiple Queries <a class="header-link" href="#executing-multiple-queries">#</a></h2>

<p>To execute multiple statements in a single query simply pass the flag <code>MULTI_STATEMENTS</code> to the connect() method.</p>

<p>Here is an example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>
<span class="kn">from</span> <span class="nn">mysql.connector.constants</span> <span class="kn">import</span> <span class="n">ClientFlag</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">charset_name</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
                            <span class="n">use_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">,</span> <span class="n">client_flags</span><span class="o">=</span><span class="n">ClientFlag</span><span class="o">.</span><span class="n">MULTI_STATEMENTS</span><span class="p">)</span>


<span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;select * from city ORDER BY name desc limit 5;&#39;</span>
         <span class="s1">&#39; select * from city ORDER BY id desc limit 6&#39;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>  <span class="c1"># row count in the first result set</span>

<span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>   <span class="c1"># loop over the first result set</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

<span class="k">print</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&#34;Does another result set exists? &#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">more_results</span><span class="p">())</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&#34;Prepare the next result set: &#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">next_result</span><span class="p">())</span>

<span class="k">print</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&#34;Rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">num_rows</span><span class="p">())</span>   <span class="c1"># row count in the second result set</span>

<span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">have_result_set</span><span class="p">:</span>   <span class="c1"># loop over the second result set</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">fetch_row</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Does another result set exists? &#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">more_results</span><span class="p">())</span>        

<span class="n">db</span><span class="o">.</span><span class="n">free_result</span><span class="p">()</span>

<span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Rows: 5
(548, &#39;Šumen&#39;, &#39;BGR&#39;, &#39;Varna&#39;, 94686)
(3736, &#39;Štšolkovo&#39;, &#39;RUS&#39;, &#39;Moskova&#39;, 104900)
(3479, &#39;Šostka&#39;, &#39;UKR&#39;, &#39;Sumy&#39;, 90000)
(2450, &#39;Šiauliai&#39;, &#39;LTU&#39;, &#39;Šiauliai&#39;, 146563)
(3665, &#39;Šahty&#39;, &#39;RUS&#39;, &#39;Rostov-na-Donu&#39;, 221800)

Does another result set exists?  True
Prepare the next result set:  True

Rows: 6
(4081, &#39;Kabul&#39;, &#39;AFG&#39;, &#39;Kabol&#39;, 1780000)
(4079, &#39;Rafah&#39;, &#39;PSE&#39;, &#39;Rafah&#39;, 92020)
(4078, &#39;Nablus&#39;, &#39;PSE&#39;, &#39;Nablus&#39;, 100231)
(4077, &#39;Jabaliya&#39;, &#39;PSE&#39;, &#39;North Gaza&#39;, 113901)
(4076, &#39;Hebron&#39;, &#39;PSE&#39;, &#39;Hebron&#39;, 119401)
(4075, &#39;Khan Yunis&#39;, &#39;PSE&#39;, &#39;Khan Yunis&#39;, 123175)
</pre></div>
</td></tr></tbody></table></div>
<p>Here are few things to notice:</p>

<ol>
<li><p>After reading the first result set from the query, we call the <code>more_results()</code> method (in line 31). The <code>more_results()</code> method return <code>True</code>, if there are more result sets, otherwise <code>False</code>.</p></li>
<li><p>Before we can start reading rows in the next result set we must first prepare it i.e move the result pointer to the next result set. This is done via the <code>next_result()</code> method (in line 33).</p></li>
<li><p>Finally, we call <code>more_results()</code> again, but this time it returns <code>False</code>, as there are no more result sets.</p></li>
</ol>

<p>In the following section, we demonstrates some examples of how create tables, insert, update and delete data.</p>
<span id="creating-tables" class="anchor-target"></span><h2 class="heading">Creating Tables <a class="header-link" href="#creating-tables">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>
<span class="kn">from</span> <span class="nn">mysql.connector</span> <span class="kn">import</span> <span class="n">errorcode</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;world&#39;</span>
<span class="p">)</span>

<span class="n">db_name</span> <span class="o">=</span> <span class="s1">&#39;blog&#39;</span>

<span class="n">tables</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>

<span class="n">tables</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">create table category</span>
<span class="s1">(</span>
<span class="s1">  id int not null auto_increment primary key,</span>
<span class="s1">  name varchar(50) not null</span>
<span class="s1">)</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="n">tables</span><span class="p">[</span><span class="s1">&#39;post&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">create table post</span>
<span class="s1">(</span>
<span class="s1">  id int not null auto_increment PRIMARY KEY,</span>
<span class="s1">  title varchar(200) not null,</span>
<span class="s1">  content text not null,</span>
<span class="s1">  date TIMESTAMP not null,</span>
<span class="s1">  category_id int not null,</span>
<span class="s1">  FOREIGN key (category_id) REFERENCES category(id)</span>
<span class="s1">)</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="k">def</span> <span class="nf">create_db</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&#34;create database {}&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">db_name</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Database created.&#34;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Database creation failed:&#34;</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">(</span><span class="n">buffered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">select_db</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Database {} already exist.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">db_name</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="c1"># database doesn&#39;t exist, create one</span>
        <span class="k">if</span> <span class="n">errorcode</span><span class="o">.</span><span class="n">ER_BAD_DB_ERROR</span> <span class="o">==</span> <span class="n">err</span><span class="o">.</span><span class="n">errno</span><span class="p">:</span>
            <span class="n">create_db</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">select_db</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Table {} created.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">errorcode</span><span class="o">.</span><span class="n">ER_TABLE_EXISTS_ERROR</span> <span class="o">==</span> <span class="n">err</span><span class="o">.</span><span class="n">errno</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Table {} already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div><span id="inserting-rows" class="anchor-target"></span><h2 class="heading">Inserting Rows <a class="header-link" href="#inserting-rows">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;blog&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">category_list</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,),</span>
        <span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;java&#39;</span><span class="p">,),</span>
        <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,),</span>
        <span class="p">(</span><span class="s1">&#39;php&#39;</span><span class="p">,),</span>
    <span class="p">]</span>

    <span class="n">stmt</span> <span class="o">=</span> <span class="s2">&#34;INSERT INTO category(name) values(&#39;{}&#39;)&#34;</span>

    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">category_list</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">stmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">category</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Row ID:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">insert_id</span><span class="p">())</span> <span class="c1"># return last inserted id</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div><span id="updating-rows" class="anchor-target"></span><h2 class="heading">Updating Rows <a class="header-link" href="#updating-rows">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;blog&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>

    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">stmt</span> <span class="o">=</span> <span class="s2">&#34;UPDATE category set name = upper(name)&#34;</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Affects rows:&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">affected_rows</span><span class="p">())</span> <span class="c1"># return affected rows</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><div class="highlight"><pre><span></span>Affects rows: 5
</pre></div>
</div><span id="transactions" class="anchor-target"></span><h2 class="heading">Transactions <a class="header-link" href="#transactions">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;blog&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">stmt1</span> <span class="o">=</span> <span class="s2">&#34;INSERT INTO category(name) values(&#39;shell scripting&#39;)&#34;</span>
    <span class="n">stmt2</span> <span class="o">=</span> <span class="s2">&#34;INSERT INTO post(title, content, category_id) values(&#39;{}&#39;, &#39;{}&#39;, &#39;{}&#39;)&#34;</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;START TRANSACTION&#39;</span><span class="p">)</span>  <span class="c1"># start transaction</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">stmt1</span><span class="p">)</span>

    <span class="n">category_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">insert_id</span><span class="p">()</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">stmt2</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;Content&#39;</span><span class="p">,</span> <span class="n">category_id</span><span class="p">))</span>

    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>  <span class="c1"># commit transaction</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Transaction committed.&#34;</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><div class="highlight"><pre><span></span>Transaction committed.
</pre></div>
</div><span id="deleting-rows" class="anchor-target"></span><h2 class="heading">Deleting Rows <a class="header-link" href="#deleting-rows">#</a></h2>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_mysql_connector</span>

<span class="n">conn_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;blog&#39;</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQL</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">conn_args</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;DELETE FROM post&#39;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;DELETE FROM category&#39;</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;All rows deleted.&#39;</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">except</span> <span class="n">_mysql_connector</span><span class="o">.</span><span class="n">MySQLInterfaceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>Expected Output:</strong></p>
<div class="codeblock language-text"><div class="highlight"><pre><span></span>All rows deleted.
</pre></div>
</div>


    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../connection-pooling-using-connector-python/index.html" title="Connection Pooling using Connector/Python">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Connection Pooling using Connector/Pyth…
                        </a>
                    </li>
                

                
            </ul>
        </nav>







    <hr/>
    <div id="disqus_thread">
    <p style="margin-bottom: 10px" class="text-center">
        <a href="#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">
            <i class="fa fa-comments" aria-hidden="true"></i> Load Comments
        </a>
    </p>
    </div>
    <hr/>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '../../../overiqcom.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        
    <div class="well">
        <h4>MySQL Connector/Python Tutorial</h4>
        <ul>
            
                <li><a href="../intro-to-mysql-connector-python/index.html">Intro to MySQL Connector/Python</a></li>
            
                <li><a href="../installing-mysql-connector-python/index.html">Installing MySQL Connector Python</a></li>
            
                <li><a href="../connecting-to-mysql-using-connector-python/index.html">Connecting to MySQL using Connector/Python</a></li>
            
                <li><a href="../executing-queries-using-connector-python/index.html">Executing Queries using Connector/Python</a></li>
            
                <li><a href="../exception-handling-in-connector-python/index.html">Exception Handling in Connector/Python</a></li>
            
                <li><a href="../creating-tables-using-connector-python/index.html">Creating Tables using Connector/Python</a></li>
            
                <li><a href="../inserting-data-using-connector-python/index.html">Inserting Data using Connector/Python</a></li>
            
                <li><a href="../updating-data-using-connector-python/index.html">Updating Data using Connector/Python</a></li>
            
                <li><a href="../deleting-data-using-connector-python/index.html">Deleting Data using Connector/Python</a></li>
            
                <li><a href="../calling-stored-procedures-using-connector-python/index.html">Calling Stored Procedures using Connector/Python</a></li>
            
                <li><a href="../handling-transactions-with-connector-python/index.html">Handling Transactions with Connector/Python</a></li>
            
                <li><a href="../connection-pooling-using-connector-python/index.html">Connection Pooling using Connector/Python</a></li>
            
                <li><a href="index.html">Using Connector/Python C Extension</a></li>
            
        </ul>
    </div>

    

    
        

<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../../machine-learning-experts-you-should-be-following-online/index.html">Machine Learning Experts You Should Be Following Online</a></li>
        
            <li><a href="../../4-ways-to-prepare-for-the-ap-computer-science-a-exam/index.html">4 Ways to Prepare for the AP Computer Science A Exam</a></li>
        
            <li><a href="../../finance-assignment-online-help-for-the-busy-and-tired-students-get-help-from-experts/index.html">Finance Assignment Online Help for the Busy and Tired Students: Get Help from Experts</a></li>
        
            <li><a href="../../top-9-machine-learning-algorithms-for-data-scientists/index.html">Top 9 Machine Learning Algorithms for Data Scientists</a></li>
        
            <li><a href="../../data-science-learning-path-or-steps-to-become-a-data-scientist-final/index.html">Data Science Learning Path or Steps to become a data scientist Final</a></li>
        
            <li><a href="../../enable-edit-button-in-shutter-in-linux-mint-19-and-ubuntu-18-04/index.html">Enable Edit Button in Shutter In Linux Mint 19 and Ubuntu 18.04</a></li>
        
            <li><a href="../../python-3-time-module/index.html">Python 3 time module</a></li>
        
            <li><a href="../../pygments-tutorial/index.html">Pygments Tutorial</a></li>
        
            <li><a href="../../how-to-use-virtualenv/index.html">How to use Virtualenv?</a></li>
        
            <li><a href="../../installing-mysql-windows-linux-and-mac/index.html">Installing MySQL (Windows, Linux and Mac)</a></li>
        
            <li><a href="../../what-is-if-__name__-__main__-in-python/index.html">What is if __name__ == &#39;__main__&#39;  in Python ?</a></li>
        
            <li><a href="../../installing-goaccess-a-real-time-web-log-analyzer/index.html">Installing GoAccess (A Real-time web log analyzer)</a></li>
        
            <li><a href="../../installing-isso/index.html">Installing Isso</a></li>
        
    </ul>
</div>

<!-- Blog Search Well -->





















    



            </div>
        </div>
    </div>



    

</div>

<!-- Footer -->
<footer class="overiq-footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../../sitemap.xml/index.html">Sitemap</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../contact/index.html">Contact</a></li>
                    <li><a href="../../blog/index.html">Blog</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="https://www.facebook.com/OverIQ/">Facebook</a></li>
                    <li><a href="https://twitter.com/infoOverIQ">Twitter</a></li>
                    <li><a href="https://github.com/overiq">Github</a></li>
                </ul>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../c-programming-101/index.html">C Tutorial</a></li>
                    <li><a href="../../python-101/index.html">Python Tutorial</a></li>
                    <li><a href="../../django-1-11/index.html">Django Tutorial</a></li>
                    <li><a href="../../flask-101/index.html">Flask Tutorial</a></li>
                    <li><a href="../index.html">MySQL Connector/Python Tutorial</a></li>
                    <li><a href="../../sqlalchemy-101/index.html">SQLAlchemy Tutorial</a></li>
                    <li><a href="../../c-examples/index.html">C Programming Examples</a></li>
                </ul>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row text-center">
            <p>© 2025 OverIQ.com</p>
            <small><a href="#">Back to top</a></small>
        </div>

        <!-- /.row -->
    </div>
</footer>



<script type="text/javascript" src="../../static/CACHE/js/output.2e0ff002c1a4.js"></script>




<script async="" src="../../../cdn.jsdelivr.net/npm/cookieconsent%403/build/cookieconsent.min.js" data-cfasync="false"></script>

<script>

    
    window.addEventListener('load', function () {
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#5ca9e0",
                    "text": "#ffffff"
                },
                "button": {
                    "background": "#fff",
                    "text": "#237afc"
                }
            },
            "theme": "classic",
            "position": "top",
            "static": true,
            "content": {
                "href": "https://overiq.com/privacy-policy/"
            }
        });
    });


</script>

<script src="../../../polyfill.io/v3/polyfill.min1162.js?features=es6"></script>
<script id="MathJax-script" defer="" src="../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml.js"></script>

<script async="" type="text/javascript" src="../../../cdn.carbonads.com/carbonfbdb.js?serve=CE7DC53E&amp;placement=overiqcom" id="_carbonads_js"></script>





<script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.overiq.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body>
<!-- Mirrored from overiq.com/mysql-connector-python-101/using-connector-python-c-extension/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:16:45 GMT -->
</html>