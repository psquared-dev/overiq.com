<!DOCTYPE html><html lang="en">
<!-- Mirrored from overiq.com/django-1-10/django-admin-app/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:03:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/>
<script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force){var setScript=function(){if(force||window.ezTcfConsent[category]){var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script>
<script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=true;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET/index.html","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot={};__ez.queue.addFile('../../detroitchicago/boise.js', '../../detroitchicago/boisebb26.js?gcb=195-3&amp;cb=5', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/abilene.js', '../../parsonsmaize/abilenec0f9.js?gcb=195-3&amp;cb=7f81d60744', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/mulvane.js', '../../parsonsmaize/mulvane2d63.js?gcb=195-3&amp;cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFile('../../detroitchicago/birmingham.js', '../../detroitchicago/birminghame7ec.js?gcb=195-3&amp;cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain_id":92771,"ezcache_level":1,"ezcache_skip_code":0,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":0,"lt_cache_level":0,"response_size":90427,"response_size_orig":84659,"response_time_orig":1064,"template_id":5,"url":"https://overiq.com/django-1-10/django-admin-app/","word_count":0,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6],"omd5":"438907ead5360c3922b741df3e6d3092"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST/index.html','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><base />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Django Admin App - Django 1.10 Tutorial - OverIQ.com</title>

    
    



    <meta name="description" content="These days Admin sites are integral part of any website. Administrators, author and staff members uses admin site to manage the content of the main s…"/>



    <link rel="canonical" href="index.html"/>


<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Django Admin App"/>

    <meta property="og:description" content="These days Admin sites are integral part of any website. Administrators, author and staff members uses admin site to manage the content of the main s…"/>


<meta property="og:url" content="https://overiq.com/django-1-10/django-admin-app/"/>
<meta property="og:site_name" content="OverIQ.com"/>


<meta property="article:publisher" content="https://www.facebook.com/OverIQ/"/>



<meta name="twitter:card" content="summary_large_image"/>

    <meta name="twitter:description" content="These days Admin sites are integral part of any website. Administrators, author and staff members uses admin site to manage the content of the main s…"/>


<meta name="twitter:title" content="Django Admin App"/>
<meta name="twitter:site" content="@infoOverIQ"/>

<meta name="twitter:creator" content="@infoOverIQ"/>




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../feed.xml/index.html"/>
    
    
    <link href="../../../fonts.googleapis.com/cssd2d5.css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="../../static/wiki/favicon.png" sizes="32x32"/>

    <link rel="stylesheet" href="../../static/CACHE/css/output.db46da465a8b.css" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-125424793-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125424793-1');
    </script>


<script type='text/javascript'>
var ezoTemplate = 'orig_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 92771;
var ezdomain = 'overiq.com';
var ezoicSearchable = 1;
</script></head>
<body>

<div class="overiq-header text-center">
    <div class="site-branding">
        <p class="main-title">
            <a href="../../index.html" rel="home">
                OverIQ.com
            </a>
        </p>
    </div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li>
                    <a href="../../blog/index.html">Blog</a>
                </li>
                <li>
                    <a href="../../contact/index.html">Contact</a>
                </li>
                <li>
                    <a href="../../about/index.html">About</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right visible-lg visible-md">
                <li>
                    <a href="../../feed.xml/index.html" title="RSS" target="_blank">
                        <i class="fa fa-rss fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/overiq/" target="_blank" title="Github">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.facebook.com/OverIQ/" target="_blank" title="Facebook">
                        <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/infoOverIQ" target="_blank" title="Twitter">
                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
                    </a>
                </li>

                

            </ul>

            <form action="https://overiq.com/search/" class="navbar-form navbar-left" role="search">

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="query" value=""/>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </form>

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    


    <div class="se-pre-con"></div>

    

    <div class="row">

        
        <div class="main">
            <div class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        <ol class="breadcrumb">

    <li><a href="../../index.html">Home</a></li>

    
        
        <li><a href="../index.html">Django 1.10 Tutorial</a></li>
        

        

        
    
        

        

        
            <li class="active">Django Admin App</li>
        
    

</ol>
    


<h1>Django Admin App</h1>




    <p><i class="fa fa-calendar" aria-hidden="true"></i>
        Last updated on July 27, 2020
    </p>


<hr/>



<p>These days Admin sites are integral part of any website. Administrators, author and staff members uses admin site to manage the content of the main site. Django provides an admin app right out of the box for you, so can just focus on building features that you need instead of creating old boring admin sites. It doesn&#39;t mean that you can&#39;t roll out your own admin site. In fact, we will create our own admin site called <code>cadmin</code>. But first, we will learn how to use Django Admin panel. Let&#39;s get started.</p>
<span id="creating-a-superuser" class="anchor-target"></span><h2 class="heading">Creating a superuser <a class="header-link" href="#creating-a-superuser">#</a></h2>

<p>To use admin site we first have to create a superuser. In the command prompt or terminal enter the following command.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">env</span><span class="p">)</span> <span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Q</span>\<span class="n">TGDB</span>\<span class="n">django_project</span><span class="o">&gt;</span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">createsuperuser</span>
</pre></div>
</div>
<p>First, you will be prompted to enter a username.</p>
<div class="codeblock language-bash"><div class="highlight"><pre><span></span>Username <span class="o">(</span>leave blank to use <span class="s1">&#39;q&#39;</span><span class="o">)</span>: admin
</pre></div>
</div>
<p>Next, enter an email address</p>
<div class="codeblock language-bash"><div class="highlight"><pre><span></span>Email address: admin@overiq.com
</pre></div>
</div>
<p>Finally, enter the password and confirm it by retyping.</p>
<div class="codeblock language-bash"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Password:
Password <span class="o">(</span>again<span class="o">)</span>:
Superuser created successfully.
</pre></div>
</td></tr></tbody></table></div>
<p>Now you can log in into the Django admin app.</p>

<p>Start the development server if not already running and point your browser to <code>http://127.0.0.1:8000/admin</code>. You will see a login page like this:</p>

<p><img src="../../media/uploads/2017/09/08/django-admin-login-page.png" loading="lazy" alt=""/></p>

<p>Enter username and password created and hit enter. On success, you will see a page like this:</p>

<p><img src="../../media/uploads/2017/09/08/django-admin-dashboard-WGXDEA.png" loading="lazy" alt=""/></p>

<p>The Groups and Users under &#34;Authentication and Authorization&#34; are coming from <code>django.contrib.auth</code> app. Groups and Users are actually models. Django uses Groups to handle permissions. The Users refers to the users of the site. Click on the Users and you will see the user we created in the above step.</p>

<p><img src="../../media/uploads/2017/09/08/django-admin-user-list.png" loading="lazy" alt=""/></p>

<p>This page us allows to do the following tasks:</p>

<ul>
<li>Add new user.</li>
<li>Modify/Add the details of the current user.</li>
<li>Search and filter users.</li>
<li>Sort the user data by clicking on the column header.</li>
<li>Delete user.</li>
</ul>

<p>The admin site is designed in such a way that any non-technical user should be able to use it without any problem. Try navigating the site on your own. Add some new users and modify existing one, this will give you a better idea of how Django admin works.</p>
<span id="adding-models-to-django-admin" class="anchor-target"></span><h2 class="heading">Adding models to Django admin <a class="header-link" href="#adding-models-to-django-admin">#</a></h2>

<p>I know some of you might be wondering Why Django admin is not showing the models we have created in the blog app?</p>

<p>By default, Django admin app doesn&#39;t load any model from the apps we create. To add a model to the Django admin you have to modify <code>admin.py</code> file available inside every app directory. Open <code>admin.py</code> inside the blog app i.e <code>TGDB/django_project/blog</code>. At this point your <code>admin.py</code> should look like this:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="c1"># Register your models here.</span>
</pre></div>
</td></tr></tbody></table></div>
<p>If <code>admin.py</code> file is not available inside the blog app, just create a new file and call it <code>admin.py</code> then add the following code to it.</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c1"># Register your models here.</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Post</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Category</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Author</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Tag</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p>In line 2, we are importing models from the blog app. To add a model to the Django admin, pass the name of the model to the <code>admin.site.register()</code> method.</p>

<p>Open your browser and visit <code>http://127.0.0.1:8000/admin/</code>. You should be able to see <code>Post</code>, <code>Category</code>, <code>Author</code> and <code>Tag</code> models in the Django admin as follows:</p>

<p><img src="../../media/uploads/2017/09/08/blog-models-in-django-admin.png" loading="lazy" alt=""/></p>

<p>This is fully functional admin panel that you can use to list, create, edit and delete objects in a simple and easy way. I encourage you to take your time and populate your database with some more records. Use random text generator like <a href="http://www.lipsum.com/" rel="nofollow">http://www.lipsum.com/</a> to add at-least 4-5 paragraph long text to all the posts.</p>
<span id="important-features-of-django-admin" class="anchor-target"></span><h2 class="heading">Important features of Django Admin <a class="header-link" href="#important-features-of-django-admin">#</a></h2>

<p>In this section, we will discuss some important aspects of Django Admin. Our discussion will be restricted to following points:</p>

<ul>
<li>The <code>__str__()</code> method.</li>
<li>Model Relationships.</li>
<li>Data validation.</li>
<li>Django tracking system.</li>
<li>Widgets.</li>
</ul>
<span id="the-__str__-method" class="anchor-target"></span><h3 class="heading">The __str__() method <a class="header-link" href="#the-__str__-method">#</a></h3>

<p>Navigate to the Author list (<code>http://127.0.0.1:8000/admin/blog/author/</code>) page by clicking Authors link under the blog app in Django Admin home page (<code>http://127.0.0.1:8000/admin/</code>). You will get a page which looks something like this:</p>

<p><img src="../../media/uploads/2017/09/08/author-list-page.png" loading="lazy" alt=""/></p>

<p>So what makes Django admin to show only author name and email in the Author list page?</p>

<p>By default, Django admin displays the value returned by the <code>__str__()</code> method defined in the Model class. For <code>Author</code> models, the <code>__str__()</code> method is defined as follows:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1">#...</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&#34;:&#34;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">email</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Modify the <code>__str__()</code> method of the <code>Author</code> model as follows:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&#34;-&#34;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">email</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Refresh the author list page (<code>http://127.0.0.1:8000/admin/blog/author/</code>) and it should now look like this:</p>

<p><img src="../../media/uploads/2017/09/08/new-author-list.png" loading="lazy" alt=""/></p>

<p>As you can see Django admin has picked-up our changes in the <code>__str__()</code> method and started displaying name and email of author separated by a dash (<code>-</code>). We don&#39;t want these changed to be permanent because in next section will display author&#39;s email in the separate column. So lets revert back to our original <code>__str__()</code> definition.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&#34;:&#34;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">email</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Refresh the author list page again and it should be back to the way it was.</p>
<span id="model-relationships-in-django-admin" class="anchor-target"></span><h3 class="heading">Model Relationships in Django admin <a class="header-link" href="#model-relationships-in-django-admin">#</a></h3>

<p>This is one of the most important things that deserves some explanation. Recall that our Post model has following relationships:</p>

<ol>
<li>A one-to-many relationship with <code>Author</code> model.</li>
<li>A one-to-many relationship with <code>Category</code> model.</li>
<li>A many-to-many relationship with <code>Tags</code> model.</li>
</ol>

<p>For reference, this is how the <code>Post</code> model is defined.</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">pub_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">)</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Tag</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
</pre></div>
</td></tr></tbody></table></div>
<p>We can see how Django admin manages model relationships by creating or editing a post. Let&#39;s create a new post by visiting <code>http://127.0.0.1:8000/admin/blog/post/add/</code>.</p>

<p>Django uses a drop-down list to represent one-to-many relationships. We have two one-to-many relationships. The first is between <code>Post</code> and <code>Category</code> and the second is between <code>Post</code> and <code>Author</code>. The <code>author</code> and <code>category</code> field of the <code>Post</code> model is represented using the <code>&lt;select&gt;</code> tag in the Add Post page.</p>

<p><img src="../../media/uploads/how_django_admin_handles_one_to_many_relationship-1504635571514.png" loading="lazy" alt=""/></p>

<p>To select post&#39;s author/category just select one from the drop-down list. You can also add a new author/category by clicking <code>+</code> icon in green. If you click the <code>+</code> sign, a pop-up window will open which allows you to add a new author/category.</p>

<p><img src="../../media/uploads/2017/09/08/add-author-from-add-post-page.png" loading="lazy" alt=""/></p>

<p>Once an author or category is selected, you can also edit them by clicking yellow pencil icon beside the drop-down.</p>

<p><img src="../../media/uploads/2017/09/08/change-author-from-add-post-page.png" loading="lazy" alt=""/></p>

<p>Similarly, Django uses multiple selection select box to represent a many-to-many relationship. As a post can have one or more than two tags, the multiple selection select box allows you to select more than one tags for a single post. To select multiple values hold Ctrl/Command key while selecting.</p>

<p><img src="../../media/uploads/2017/09/08/many-to-many-relationship-in-add-post-page.png" loading="lazy" alt=""/></p>

<p>You can also add a new tag by clicking green <code>+</code> icon.</p>

<p>Another important point I want to mention here is that if you delete an object then any dependent objects will be deleted too. For example, If an author has created two categories, then deleting that Author, will also remove those two categories. However, deleting a <code>Category</code> object will have no effect on the <code>Author</code> object.</p>
<span id="django-admin-handles-validation" class="anchor-target"></span><h3 class="heading">Django Admin Handles Validation <a class="header-link" href="#django-admin-handles-validation">#</a></h3>

<p>Django Admin automatically provides input validation. Try saving a blank blog post or enter some invalid characters in the Slug field. You will see errors as follows:</p>

<p><img src="../../media/uploads/2017/09/08/django-admin-validation-errors.png" loading="lazy" alt=""/></p>
<span id="django-tracking-system" class="anchor-target"></span><h3 class="heading">Django tracking system. <a class="header-link" href="#django-tracking-system">#</a></h3>

<p>Django keeps track of the changes you have made to the object. When you edit an object, you get a link to HISTORY on the upper right corner of the page. Click on the HISTORY link to view list of the changes made to the object.</p>

<p><img src="../../media/uploads/hisory_links-1504635651317.png" loading="lazy" alt=""/></p>

<p><img src="../../media/uploads/history_logs-1504635662641.png" loading="lazy" alt=""/></p>

<p>If you haven&#39;t made any changes to the object then you will get the following message.</p>

<p><img src="../../media/uploads/2017/09/08/object-has-no-history.png" loading="lazy" alt=""/></p>
<span id="widgets" class="anchor-target"></span><h3 class="heading">Widgets <a class="header-link" href="#widgets">#</a></h3>

<p>Django provides widgets on the basis of field types defined in the model. The widgets refer to the way a Model field is displayed in the Django Admin. For example, a <code>CharField</code> is displayed as an input element, <code>ForeignKey</code> as select-box, <code>BooleanField</code> as a checkbox and so on.</p>
<span id="customizing-how-models-are-displayed" class="anchor-target"></span><h2 class="heading">Customizing how Models are displayed <a class="header-link" href="#customizing-how-models-are-displayed">#</a></h2>

<p>Open your browser and visit Author list page i.e <code>http://127.0.0.1:8000/admin/blog/author/</code>.</p>

<p><img src="../../media/uploads/2018/2/1/author_list_page-a7dd04cf-aba6-456f-a1cf-0dfcdce13112.png" loading="lazy" alt=""/></p>

<p>This page is similar to User list page (<code>http://127.0.0.1:8000/admin/auth/user/</code>) but there are subtle differences.</p>

<ol>
<li>Unlike User list page there is no search bar.</li>
<li>No filters on the right-hand side.</li>
<li>The <code>Author</code> model consists of 5 fields (<code>name</code>, <code>email</code>, <code>active</code>, <code>created_on</code> and <code>last_logged_in</code>) but only <code>name</code> is visible.</li>
<li>We can&#39;t sort by clicking on the column header.</li>
</ol>

<p>To customize the appearance of models in Django Admin, we create a new class <code>AuthorAdmin</code> which inherits from <code>models.ModelAdmin</code> in <code>admin.py</code> file.</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Author</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Tag</span><span class="p">)</span>


<span class="hll"><span class="k">class</span> <span class="nc">AuthorAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
</span><span class="hll">    <span class="k">pass</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>The class <code>models.ModelAdmin</code> provides some attributes which allow us to change how a model is displayed in the list page. Here are some commonly used attributes of <code>models.ModelAdmin</code>.</p>

<ul>
<li><p><code>list_display</code> - It controls which model fields to display on the list page. It accepts a list or tuple of field names which you want to display. In addition to displaying fields, it also makes them sortable. For example, <code>list_display = (&#39;name&#39;, &#39;email&#39;, &#39;created_on&#39;,)</code> will display data from <code>name</code>, <code>email</code> and <code>created_on</code> fields from the model and also makes them sortable.</p></li>
<li><p><code>search_fields</code> - This attribute enables the search function on the list page. It accepts a list or tuple of field names where you want to search. It performs a case-insensitive search. For example, If <code>search_fields = (&#39;name&#39;, &#39;email&#39;,)</code> then for the query <code>&#34;tom&#34;</code> Django will search <code>name</code> as well as <code>email</code> field.</p></li>
<li><p><code>ordering</code> - It specifies how the list of objects should be ordered in the Django Admin. Just like other attributes it accepts a list or tuple of field names to specify the order. For example, <code>ordering = [&#39;-name&#39;]</code> will display a list of objects in descending order by <code>name</code>.</p></li>
<li><p><code>list_filter</code> - This attribute activates the filtering bar on the right side of the list page. It accepts a list or tuple of field names. Django automatically provides different shortcuts to filter the objects based on the type of the field. For example: If the field is of type <code>DateField</code> then Django provides <code>Today</code>, <code>Past 7 days</code>, <code>This month</code> and <code>This year</code> shortcuts to filter the objects. Similarly, if the field is of type <code>BooleanField</code> then Django provides <code>All</code>, <code>Yes</code> and <code>No</code> shortcuts to filter objects.</p>

<p><img src="../../media/uploads/2017/09/08/list_filter-attribute-VKEXPK.png" loading="lazy" alt=""/></p></li>
<li><p><code>date_hierarchy</code> - This attribute is specially designed to provide an intelligent date based drill-down navigation just above Action select box. It takes a string, not a list or tuple. As <code>date_hierarchy</code> creates date based filter, you are only allowed to specify field of type <code>DateField</code> or <code>DateTimeField</code> only. Here is how this attribute looks like in the list page.</p>

<p><img src="../../media/uploads/date_hierarchy_in_djano_admin-1504635823447.png" loading="lazy" alt=""/></p></li>
</ul>

<p>Let&#39;s put some of the attributes to test. Open <code>admin.py</code> inside the blog app and update the file as follows:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c1"># Register your models here.</span>


<span class="hll"><span class="k">class</span> <span class="nc">AuthorAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
</span><span class="hll">    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;created_on&#39;</span><span class="p">)</span>
</span><span class="hll">    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-name&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;active&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s1">&#39;created_on&#39;</span>
</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Post</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Category</span><span class="p">)</span>
<span class="hll"><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Author</span><span class="p">,</span> <span class="n">AuthorAdmin</span><span class="p">)</span>
</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Tag</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Here we have created a class <code>AuthorAdmin</code> which inherits from <code>admin.ModelAdmin</code>. Inside the class, we have specified all the attributes we have just learned to customize the appearance of <code>Author</code> model. To register the changes outlined in the <code>AuthorAdmin</code> just pass its name as a second argument to the <code>register()</code> method.</p>

<p>Refresh the author list page and it will look something like this:</p>

<p><img src="../../media/uploads/2017/09/08/author-list-page-in-django-admin.png" loading="lazy" alt=""/></p>

<p>On visiting author list page you may get an error like this:</p>

<p><img src="../../media/uploads/2017/09/08/pytz-error-JTVFDA.png" loading="lazy" alt=""/></p>

<p>The error is about a library called pytz which is used by Django admin to perform some timezone related calculations. Open terminal or command prompt and install pytz using the following command.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;pip install pytz
Collecting pytz
  Using cached pytz-2016.10-py2.py3-none-any.whl
Installing collected packages: pytz
Successfully installed pytz-2016.10

(env) C:\Users\Q\TGDB\django_project&gt;</code></pre>

<p>Restart the server and refresh the author list page again, the error should have gone by now.</p>

<p>Before we move ahead let&#39;s add some more classes in the <code>admin.py</code> file to modify the appearance of <code>Post</code>, <code>Category</code> and <code>Tag</code> models. Add the following classes after the <code>AuthorAdmin</code> class.</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">AuthorAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c1">#...</span>
    <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s1">&#39;created_on&#39;</span>


<span class="hll"><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
</span><span class="hll">    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;pub_date&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">,)</span>
</span><span class="hll">    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-pub_date&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pub_date&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s1">&#39;pub_date&#39;</span>    
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">class</span> <span class="nc">CategoryAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
</span><span class="hll">    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;slug&#39;</span><span class="p">,)</span>
</span><span class="hll">    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,)</span>   
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">class</span> <span class="nc">TagAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
</span><span class="hll">    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;slug&#39;</span><span class="p">,)</span>
</span><span class="hll">    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Post</span><span class="p">,</span> <span class="n">PostAdmin</span><span class="p">)</span>
</span><span class="hll"><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Category</span><span class="p">,</span> <span class="n">CategoryAdmin</span><span class="p">)</span>
</span><span class="hll"><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Author</span><span class="p">,</span> <span class="n">AuthorAdmin</span><span class="p">)</span>
</span><span class="hll"><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">TagAdmin</span><span class="p">)</span>
</span></pre></div>
</td></tr></tbody></table></div><span id="customizing-addedit-forms" class="anchor-target"></span><h2 class="heading">Customizing Add/Edit Forms <a class="header-link" href="#customizing-addedit-forms">#</a></h2>

<p>Django Admin also allows you to change how add/edit forms are displayed. To customize add/edit forms, the <code>admin.ModelAdmin</code> class provides following attributes.</p>

<ol>
<li><p><code>fields</code> - By default, the order of appearance of fields in the add/edit forms is same as the order of fields defined in the models. To change the order, list the name of the fields in the order you want as a list or tuple. For example, <code>fields = [&#39;title&#39;, &#39;created_on&#39;, &#39;author&#39;]</code> will display <code>&#34;title&#34;</code> field followed by <code>&#34;created_on&#34;</code> field which is then followed by an <code>&#34;author&#34;</code> field.</p>

<p>In addition to ordering the field, you can also use this attribute to remove one or more fields from being edited/added entirely.</p></li>
<li><p><code>filter_horizontal</code> - This attribute can only be used with <code>ManyToManyField</code>. By default, <code>ManyToManyField</code> fields are displayed using multiple selection select-box. Selecting records from a small list is easy but what if there are hundreds or thousands of records? To make the selection easier Django provides <code>filter_horizontal</code> attribute. It accepts list or tuple of the field names of type <code>ManyToManyField</code>. It then creates a nice interface which allows to search through the records as well as view available records and chosen records.</p>

<p>Towards the end of <code>PostAdmin</code> class in <code>admin.py</code> file append <code>filter_horizontal = (&#39;tags&#39;,)</code> as follows:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
   <span class="c1">#...</span>
   <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s1">&#39;pub_date&#39;</span>
<span class="hll">   <span class="n">filter_horizontal</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Visit Add Post or Change Post page. You will see a nice interface which allows you to view available and chosen tags and as well as search tags.</p>

<p><img src="../../media/uploads/filter_horizontal_in_post_model-1504635963940.png" loading="lazy" alt=""/></p></li>
<li><p><code>raw_id_fields</code> - There is no doubt that <code>filter_horizontal</code> makes record selection easier. But if you have hundreds or thousands of records, loading all these at once could take a while. The solution is to use <code>raw_id_fields</code> instead of <code>filter_horizontal</code>.</p>

<p>It accepts list or tuple of the field names of type <code>ManyToManyField</code> or <code>ForeignKey</code> and creates an input box ( <code>&lt;input type=&#34;text&#34; ... /&gt;</code> ) where you can enter primary key of the record.</p>

<p>Open <code>admin.py</code> file and comment out the <code>filter_horizontal</code> attribute we have added to <code>PostAdmin</code> class in the last step. And then add <code>raw_id_fields</code> attribute just below it.</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c1">#...</span>
    <span class="c1"># filter_horizontal = (&#39;tags&#39;,)</span>
<span class="hll">    <span class="n">raw_id_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Visit Add Post or Change Post page again. You will see an input element along with a search-icon in front of the Tags field.</p>

<p><img src="../../media/uploads/raw_id_fields_on_post_tags-1504636032851.png" loading="lazy" alt=""/></p>

<p>So what do I need to fill in that input box? The primary key of the record. Don&#39;t freak out you don&#39;t really need to memorize the primary key of records. Just click on the search-icon beside the input box and a pop-window will open which allows you to select and search through the records.</p></li>
<li><p><code>prepopulated_fields</code> - This attribute automatically adds content to the field. It accepts a dictionary mapping field names to the fields it should pre-populate form. It is commonly used to create slugs. For example, <code>prepopulated_fields = {&#39;slug&#39;: (&#39;title&#39;,)}</code> , this code will pre-populate the <code>slug</code> field from the <code>title</code> field using JavaScript.</p>

<p>Open <code>admin.py</code> and add <code>prepopulated_fields</code> attribute to the <code>PostAdmin</code> class as follows:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c1">#...</span>
    <span class="n">raw_id_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,)</span>
<span class="hll">    <span class="n">prepopulated_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;slug&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,)}</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Visit Add Post or Change Post page again and enter some data in the title field. You will that notice the slug field automatically gets populated in real time.</p>

<p>The <code>prepopulated_fields</code> attribute only pre-populate field while adding new a record, it will not pre-populate the field when you update a record. We will discuss how to do that in the upcoming section.</p></li>
<li><p><code>readonly_fields</code> - This attribute makes the field read-only. Although, the field will appear in the add/edit form but you can&#39;t enter anything into it. It accepts the name of the field names as list or tuple.</p>

<p>Currently, add/edit post form allows users to enter slug in the <code>slug</code> field. It would be much better if we automatically create slug from the value entered in the <code>title</code> field. To do that we must first make the <code>slug</code> field read-only.</p>

<p>Once again open <code>admin.py</code> and comment out <code>prepopulated_fields</code> attribute, then add <code>readonly_fields</code> attribute to <code>PostAdmin</code> like this:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c1">#...    </span>
    <span class="c1">#prepopulated_fields = {&#39;slug&#39;: (&#39;title&#39;,)}</span>
<span class="hll">    <span class="n">readonly_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;slug&#39;</span><span class="p">,)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Save the file and visit Add Post or Change Post page. You will see a form like this:</p>

<p><img src="../../media/uploads/slug_field_after_adding_readonly_fields-1504636140465.png" loading="lazy" alt=""/></p>

<p>Notice that the <code>slug</code> field is pushed at the end of the page, this happens because Django first displays fields which are editable followed by read-only fields. We can easily change this behavior using the <code>fields</code> attribute discussed above. Just after <code>readonly_fields</code> attribute in the <code>PostAdmin</code> class, add the <code>fields</code> attribute as follows:</p>

<p><strong>TGDB/django_project/blog/admin.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c1">#...</span>
    <span class="n">readonly_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;slug&#39;</span><span class="p">,)</span>
<span class="hll">    <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">,)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Refresh the page again and you will see read-only <code>slug</code> field right after the <code>title</code> field.</p>

<p>An important point I want to mention here is that <code>DateField</code> or <code>DateTimeField</code> whose parameter is set to <code>auto_now_add</code> or <code>auto_now</code> to <code>True</code> will not appear in Django Admin panel, even after you add their names to the <code>fields</code> attribute.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span> <span class="s1">&#39;pub_date&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">,)</span>
</pre></div>
</div>
<p>In fact, doing so raises a <code>FieldError</code> exception.</p></li>
</ol>
<span id="updating-slug" class="anchor-target"></span><h2 class="heading">Updating Slug <a class="header-link" href="#updating-slug">#</a></h2>

<p>At this point, we know how to add/edit records. But, there is one problem with the <code>Post</code> model. We have made the <code>slug</code> field read-only but we have haven&#39;t implemented any mechanism to create slug from the <code>title</code> field. As a result, any new post you create will have an empty slug. Similarly, if you update the title of the post you will find that it&#39;s slug is not getting updated at all.</p>

<p>So how do we create slug from the title of the post?</p>

<p>To automatically create slug from the title we override the <code>save()</code> method of the <code>models.Model</code> class. We will then use <code>slugify()</code> method to generate slug from the title. Open <code>models.py</code> in the blog app and add <code>save()</code> method to the <code>Post</code> model just below the <code>__str__()</code> method.</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="hll"><span class="kn">from</span> <span class="nn">django.template.defaultfilters</span> <span class="kn">import</span> <span class="n">slugify</span>
</span>
<span class="c1">#...</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1">#...</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>

<span class="hll">    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</span><span class="hll">        <span class="nb">super</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>In line 2, we are importing <code>slugify()</code> method from <code>django.template.defaultfilters</code>. And in lines 12-14, we are overriding the <code>save()</code> method. If the title is <code>&#34;The Great Django Blog&#34;</code> then the <code>slugify()</code> method will return <code>&#34;the-great-django-blog&#34;</code>.</p>

<p>Start the server if not already running and create a new post by visiting <code>http://127.0.0.1:8000/admin/blog/post/add/</code>. Enter data in all the fields except slug and hit &#34;Save and continue editing&#34; button.</p>

<p><img src="../../media/uploads/creating_slug_from_title-1504636264252.png" loading="lazy" alt=""/></p>

<p>Notice how the slug is automatically generated from the title. The <code>save()</code> method is run every time you create/update a <code>Post</code> object.</p>
<span id="creating-optional-fields" class="anchor-target"></span><h2 class="heading">Creating Optional Fields <a class="header-link" href="#creating-optional-fields">#</a></h2>

<p>Most of the fields defined in our models require you to enter some kind of data (except for fields like <code>pub_date</code> in <code>Post</code> model, and <code>last_logged_in</code> in <code>Author</code> model, Django automatically provides values to these fields because of <code>auto_now</code> and <code>auto_now_add</code> parameters).</p>

<p>What if you want to make some fields optional?</p>

<p>To make fields optional pass <code>blank=True</code> while defining field in the <code>models.py</code> file. By default, <code>blank</code> is set to <code>False</code> that&#39;s why Django Admin requires you to fill data in fields before submitting the form. For example, to make the author&#39;s email optional add <code>blank=True</code> as follows:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span>    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Here we are a changing model field, so we must run <code>makemigrations</code> command to create a migration file.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;python manage.py makemigrations
Migrations for &#39;blog&#39;:
  blog\migrations\0002_auto_20170329_1526.py:
    - Alter field email on author</code></pre>

<p>Next, run the <code>migrate</code> command to commit changes to the database.    </p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;python manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, blog, contenttypes, sessions
Running migrations:
  Applying blog.0002_auto_20170329_1526... OK

(env) C:\Users\Q\TGDB\django_project&gt;</code></pre>

<p>Open your browser and visit Add Author page at  <code>http://127.0.0.1:8000/admin/blog/author/add/</code>. Submit the form without entering anything. This time the form will show a validation error only for the author&#39;s name field not for the email field because we have made it optional.</p>

<p><img src="../../media/uploads/blank_true_for_authors_email-1504636322654.png" loading="lazy" alt=""/></p>

<p>For now, we want users to enter an email address, so remove the <code>blank=True</code> from the <code>Author</code> model. Then use <code>makemigrations</code> and <code>migrate</code> command once again to create migration file and commit the changes to the database.</p>

<pre><code>(env) C:\Users\Q\my_workspace\django_project&gt;python manage.py makemigrations
Migrations for &#39;blog&#39;:
  blog\migrations\0003_auto_20170329_1708.py:
    - Alter field email on author</code></pre>

<pre><code>(env) C:\Users\Q\my_workspace\django_project&gt;python manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, blog, contenttypes, sessions
Running migrations:
  Applying blog.0003_auto_20170329_1708... OK

(env) C:\Users\Q\my_workspace\django_project&gt;</code></pre>
<span id="changing-field-labels" class="anchor-target"></span><h2 class="heading">Changing Field Labels <a class="header-link" href="#changing-field-labels">#</a></h2>

<p>The form labels in Django Admin uses the field names from the models. If the field name in the model is <code>name</code> then form label will be <code>Name</code>. If label consists of multiple words separated by underscore like <code>pub_date</code>, then form label will be <code>Pub Date</code>.</p>

<p>We can explicitly specify the field label using the <code>verbose_name</code> parameter while defining the field in the model class. Open <code>models.py</code> file and add <code>verbose_name</code> to <code>name</code> field in <code>Author</code> model as follows:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s2">&#34;Author Name&#34;</span><span class="p">)</span>
</span>    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>To commit the changes use <code>makemigrations</code> and <code>migrate</code> commands as usual.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;python manage.py makemigrations
Migrations for &#39;blog&#39;:
  blog\migrations\0004_auto_20170329_1729.py:
    - Alter field name on author</code></pre>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;python manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, blog, contenttypes, sessions
Running migrations:
  Applying blog.0004_auto_20170329_1729... OK

(env) C:\Users\Q\TGDB\django_project&gt;</code></pre>

<p>Visit Add author or Change author page to see the changed label.</p>

<p><img src="../../media/uploads/verbose_name_usage-1504636365758.png" loading="lazy" alt=""/></p>
<span id="help_text-parameter" class="anchor-target"></span><h2 class="heading">help_text parameter <a class="header-link" href="#help_text-parameter">#</a></h2>

<p>The <code>help_text</code> is another useful parameter used to display some information in the form. Visit Add post or Change post page and you will see a form like this:</p>

<p><img src="../../media/uploads/post_form_before_help_text-1504636414680.png" loading="lazy" alt=""/></p>

<p>At this point, our form shows an uneditable <code>slug</code> field. First time visitor to this page may get confused about how to use this field.</p>

<p>As we are generating slug automatically we should inform the user that this field is automatically generated from the title of the post. We can easily do that using <code>help_text</code> parameter. To add <code>help_text</code> parameter open <code>models.py</code> file in the blog app and modify <code>Post</code> model as follows:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="hll">    <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> 
</span><span class="hll">                   <span class="n">help_text</span><span class="o">=</span><span class="s2">&#34;Slug will be generated automatically from the title of the post&#34;</span><span class="p">)</span>
</span>    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Once again run <code>makemigrations</code> and <code>migrate</code> command to commit changes. Refresh the Add post or Change post page to see the help text:</p>

<p><img src="../../media/uploads/post_form_after_help_text-1504636433416.png" loading="lazy" alt=""/></p>
<span id="fixing-the-typo-in-django-admin" class="anchor-target"></span><h2 class="heading">Fixing the typo in Django Admin <a class="header-link" href="#fixing-the-typo-in-django-admin">#</a></h2>

<p>Did you notice anything odd in the Django Admin? If not then point your browser to Django Admin home page i.e <code>http://127.0.0.1:8000/admin/</code>.</p>

<p><img src="../../media/uploads/djang_admin_fixing_the_typo-1504636445178.png" loading="lazy" alt=""/></p>

<p>Notice the word <code>&#34;Categorys&#34;</code> under the Blog app. By default, Django shows the pluralized version of the model name in Django Admin. So <code>&#34;Author&#34;</code> becomes <code>&#34;Authors&#34;</code> and <code>&#34;Category&#34;</code> becomes <code>&#34;Categorys&#34;</code>.</p>

<p>Django uses something called <code>Meta</code> class to add metadata to the model class. <code>Meta</code> class is defined as a nested class in the model class.</p>

<p>So what is Metadata? Metadata is just additional options/settings that are not specific to any fields. Here are some additional options that we can specify in the <code>Meta</code> class.</p>
<span id="ordering" class="anchor-target"></span><h3 class="heading">ordering <a class="header-link" href="#ordering">#</a></h3>

<p>This option specifies the default ordering scheme for the object. If specified, this ordering scheme will be used every time we access data using Django ORM. It accepts a list or tuple of field names. For example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FooModel</span>
    <span class="c1">#...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-pub_date&#39;</span><span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div>
<p>This code sets the default ordering of <code>FooModel</code> objects to <code>pub_date</code> in descending order.</p>
<span id="unique_together" class="anchor-target"></span><h3 class="heading">unique_together <a class="header-link" href="#unique_together">#</a></h3>

<p>This option specifies the unique constraint on two or more field names when taken together. It accepts two or more field names as a tuple of tuple. For example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Author</span><span class="p">:</span>
    <span class="c1">#...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">),)</span>
</pre></div>
</td></tr></tbody></table></div>
<p>The above constraint forces the <code>name</code> and <code>email</code> field to be unique when taken together.</p>
<span id="verbose_plural_name" class="anchor-target"></span><h3 class="heading">verbose_plural_name <a class="header-link" href="#verbose_plural_name">#</a></h3>

<p>This option is used to specify the pluralized name of the model. It accepts a string. We will use this option to fix the typo. For example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
   <span class="c1">#...</span>
   <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
       <span class="n">verbose_plural_name</span> <span class="o">=</span> <span class="s2">&#34;PostModel&#34;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>This will cause the <code>Post</code> model to appear in Django Admin as <code>PostModel</code> instead of <code>Posts</code>.</p>
<span id="db_table" class="anchor-target"></span><h3 class="heading">db_table <a class="header-link" href="#db_table">#</a></h3>

<p>By default, Django automatically creates table names for us. For example, If we have an app called forum and a model class named Bounty, then the table name would be forum_bounty. If for some reason you want to override this naming convention use <code>db_table</code>. It accepts a string as an argument. For example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Bounty</span>
    <span class="c1">#...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">&#34;bounties&#34;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>For a full list of Meta options visit <a href="https://docs.djangoproject.com/en/1.11/ref/models/options/" rel="nofollow">https://docs.djangoproject.com/en/1.11/ref/models/options/</a>.</p>

<p>Let&#39;s now fix the typo. Open <code>models.py</code> and add the following <code>Meta</code> class to <code>Category</code> model after the field declarations:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">class</span> <span class="nc">Category</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">)</span>

<span class="hll">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span><span class="hll">        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s2">&#34;Categories&#34;</span>
</span>
    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Save the file, then run <code>makemigrations</code> followed by <code>migrate</code> command to commit the changes.    </p>

<p>Visit <code>http://127.0.0.1:8000/admin/</code> and the typo should have gone.</p>

<p><strong>Note:</strong> To checkout this version of the repository type <code>git checkout 16a</code>.</p>



    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../building-blog-the-first-steps/index.html" title="Building Blog The First Steps">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Building Blog The First Steps
                        </a>
                    </li>
                

                
                    <li class="next">
                        <a href="../creating-urls-in-django/index.html" title="Creating URLs in Django">
                            Creating URLs in Django
                            <span class="fa fa-arrow-right" aria-hidden="true"></span>
                        </a>
                    </li>
                
            </ul>
        </nav>







    <hr/>
    <div id="disqus_thread">
    <p style="margin-bottom: 10px" class="text-center">
        <a href="#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">
            <i class="fa fa-comments" aria-hidden="true"></i> Load Comments
        </a>
    </p>
    </div>
    <hr/>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '../../../overiqcom.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        
    <div class="well">
        <h4>Django 1.10 Tutorial</h4>
        <ul>
            
                <li><a href="../intro-to-django/index.html">Intro to Django</a></li>
            
                <li><a href="../installing-django/index.html">Installing Django</a></li>
            
                <li><a href="../creating-django-project/index.html">Creating Django Project</a></li>
            
                <li><a href="../mvc-pattern-and-django/index.html">MVC Pattern and Django</a></li>
            
                <li><a href="../views-and-urlconfs-in-django/index.html">Views and URLconfs in Django</a></li>
            
                <li><a href="../basics-of-django-templates/index.html">Basics of Django Templates</a></li>
            
                <li><a href="../template-tags-in-django/index.html">Template tags in Django</a></li>
            
                <li><a href="../template-filters-in-django/index.html">Template filters in Django</a></li>
            
                <li><a href="../loading-templates-in-django/index.html">Loading Templates in Django</a></li>
            
                <li><a href="../template-inheritance-in-django/index.html">Template Inheritance in Django</a></li>
            
                <li><a href="../basics-of-models-in-django/index.html">Basics of Models in Django</a></li>
            
                <li><a href="../migrations-in-django/index.html">Migrations in Django</a></li>
            
                <li><a href="../django-orm-basics/index.html">Django ORM Basics</a></li>
            
                <li><a href="../accessing-related-data-using-django-orm/index.html">Accessing Related Data Using Django ORM</a></li>
            
                <li><a href="../building-blog-the-first-steps/index.html">Building Blog The First Steps</a></li>
            
                <li><a href="index.html">Django Admin App</a></li>
            
                <li><a href="../creating-urls-in-django/index.html">Creating URLs in Django</a></li>
            
                <li><a href="../showing-404-errors-in-django/index.html">Showing 404 errors In Django</a></li>
            
                <li><a href="../redirecting-urls-in-django/index.html">Redirecting URLs in Django</a></li>
            
                <li><a href="../django-form-basics/index.html">Django Form Basics</a></li>
            
                <li><a href="../displaying-forms-in-django/index.html">Displaying Forms in Django</a></li>
            
                <li><a href="../building-contact-us-page/index.html">Building Contact Us Page</a></li>
            
                <li><a href="../django-rendering-fields-manually/index.html">Django Rendering Fields Manually</a></li>
            
                <li><a href="../handling-static-content-in-django/index.html">Handling Static Content in Django</a></li>
            
                <li><a href="../handling-media-files-in-django/index.html">Handling Media Files in Django</a></li>
            
                <li><a href="../pagination-in-django/index.html">Pagination in Django</a></li>
            
                <li><a href="../cookies-in-django/index.html">Cookies in Django</a></li>
            
                <li><a href="../sessions-in-django/index.html">Sessions in Django</a></li>
            
                <li><a href="../django-authentication-framework-basics/index.html">Django Authentication Framework Basics</a></li>
            
                <li><a href="../django-logging-users-in-and-out/index.html">Django Logging Users In and Out</a></li>
            
                <li><a href="../django-password_change-view/index.html">Django password_change() View</a></li>
            
                <li><a href="../django-creating-users-using-usercreationform/index.html">Django Creating Users using UserCreationForm</a></li>
            
                <li><a href="../django-extending-user-model/index.html">Django Extending User model</a></li>
            
                <li><a href="../flatpages-in-django/index.html">Flatpages in Django</a></li>
            
                <li><a href="../creating-sitemaps-in-django/index.html">Creating Sitemaps in Django</a></li>
            
                <li><a href="../revisiting-cadmin-app/index.html">Revisiting cadmin App</a></li>
            
                <li><a href="../integrating-ckeditor-in-django/index.html">Integrating CKeditor in Django</a></li>
            
        </ul>
    </div>

    

    
        

<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../../machine-learning-experts-you-should-be-following-online/index.html">Machine Learning Experts You Should Be Following Online</a></li>
        
            <li><a href="../../4-ways-to-prepare-for-the-ap-computer-science-a-exam/index.html">4 Ways to Prepare for the AP Computer Science A Exam</a></li>
        
            <li><a href="../../finance-assignment-online-help-for-the-busy-and-tired-students-get-help-from-experts/index.html">Finance Assignment Online Help for the Busy and Tired Students: Get Help from Experts</a></li>
        
            <li><a href="../../top-9-machine-learning-algorithms-for-data-scientists/index.html">Top 9 Machine Learning Algorithms for Data Scientists</a></li>
        
            <li><a href="../../data-science-learning-path-or-steps-to-become-a-data-scientist-final/index.html">Data Science Learning Path or Steps to become a data scientist Final</a></li>
        
            <li><a href="../../enable-edit-button-in-shutter-in-linux-mint-19-and-ubuntu-18-04/index.html">Enable Edit Button in Shutter In Linux Mint 19 and Ubuntu 18.04</a></li>
        
            <li><a href="../../python-3-time-module/index.html">Python 3 time module</a></li>
        
            <li><a href="../../pygments-tutorial/index.html">Pygments Tutorial</a></li>
        
            <li><a href="../../how-to-use-virtualenv/index.html">How to use Virtualenv?</a></li>
        
            <li><a href="../../installing-mysql-windows-linux-and-mac/index.html">Installing MySQL (Windows, Linux and Mac)</a></li>
        
            <li><a href="../../what-is-if-__name__-__main__-in-python/index.html">What is if __name__ == &#39;__main__&#39;  in Python ?</a></li>
        
            <li><a href="../../installing-goaccess-a-real-time-web-log-analyzer/index.html">Installing GoAccess (A Real-time web log analyzer)</a></li>
        
            <li><a href="../../installing-isso/index.html">Installing Isso</a></li>
        
    </ul>
</div>

<!-- Blog Search Well -->





















    



            </div>
        </div>
    </div>



    

</div>

<!-- Footer -->
<footer class="overiq-footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../../sitemap.xml/index.html">Sitemap</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../contact/index.html">Contact</a></li>
                    <li><a href="../../blog/index.html">Blog</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="https://www.facebook.com/OverIQ/">Facebook</a></li>
                    <li><a href="https://twitter.com/infoOverIQ">Twitter</a></li>
                    <li><a href="https://github.com/overiq">Github</a></li>
                </ul>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../c-programming-101/index.html">C Tutorial</a></li>
                    <li><a href="../../python-101/index.html">Python Tutorial</a></li>
                    <li><a href="../../django-1-11/index.html">Django Tutorial</a></li>
                    <li><a href="../../flask-101/index.html">Flask Tutorial</a></li>
                    <li><a href="../../mysql-connector-python-101/index.html">MySQL Connector/Python Tutorial</a></li>
                    <li><a href="../../sqlalchemy-101/index.html">SQLAlchemy Tutorial</a></li>
                    <li><a href="../../c-examples/index.html">C Programming Examples</a></li>
                </ul>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row text-center">
            <p>© 2025 OverIQ.com</p>
            <small><a href="#">Back to top</a></small>
        </div>

        <!-- /.row -->
    </div>
</footer>



<script type="text/javascript" src="../../static/CACHE/js/output.2e0ff002c1a4.js"></script>




<script async="" src="../../../cdn.jsdelivr.net/npm/cookieconsent%403/build/cookieconsent.min.js" data-cfasync="false"></script>

<script>

    
    window.addEventListener('load', function () {
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#5ca9e0",
                    "text": "#ffffff"
                },
                "button": {
                    "background": "#fff",
                    "text": "#237afc"
                }
            },
            "theme": "classic",
            "position": "top",
            "static": true,
            "content": {
                "href": "https://overiq.com/privacy-policy/"
            }
        });
    });


</script>

<script src="../../../polyfill.io/v3/polyfill.min1162.js?features=es6"></script>
<script id="MathJax-script" defer="" src="../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml.js"></script>

<script async="" type="text/javascript" src="../../../cdn.carbonads.com/carbonfbdb.js?serve=CE7DC53E&amp;placement=overiqcom" id="_carbonads_js"></script>





<script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.overiq.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body>
<!-- Mirrored from overiq.com/django-1-10/django-admin-app/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:03:49 GMT -->
</html>