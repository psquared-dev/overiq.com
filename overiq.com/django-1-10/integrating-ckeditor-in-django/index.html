<!DOCTYPE html><html lang="en">
<!-- Mirrored from overiq.com/django-1-10/integrating-ckeditor-in-django/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:06:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/>
<script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force){var setScript=function(){if(force||window.ezTcfConsent[category]){var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script>
<script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=true;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET/index.html","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot={};__ez.queue.addFile('../../detroitchicago/boise.js', '../../detroitchicago/boisebb26.js?gcb=195-3&amp;cb=5', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/abilene.js', '../../parsonsmaize/abilenec0f9.js?gcb=195-3&amp;cb=7f81d60744', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/mulvane.js', '../../parsonsmaize/mulvane2d63.js?gcb=195-3&amp;cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFile('../../detroitchicago/birmingham.js', '../../detroitchicago/birminghame7ec.js?gcb=195-3&amp;cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain_id":92771,"ezcache_level":1,"ezcache_skip_code":0,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":0,"lt_cache_level":0,"response_size":56046,"response_size_orig":50278,"response_time_orig":403,"template_id":5,"url":"https://overiq.com/django-1-10/integrating-ckeditor-in-django/","word_count":0,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6],"omd5":"596a9fa2d0ede006e406a92dfd599f02"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST/index.html','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><base />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Integrating CKeditor in Django - Django 1.10 Tutorial - OverIQ.com</title>

    
    



    <meta name="description" content="CKEDITOR_CONFIGS refer to the settings which CKEditor uses to customize its appearance and behavior. To learn more about settings visit CKEditor conf…"/>



    <link rel="canonical" href="index.html"/>


<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Integrating CKeditor in Django"/>

    <meta property="og:description" content="CKEDITOR_CONFIGS refer to the settings which CKEditor uses to customize its appearance and behavior. To learn more about settings visit CKEditor conf…"/>


<meta property="og:url" content="https://overiq.com/django-1-10/integrating-ckeditor-in-django/"/>
<meta property="og:site_name" content="OverIQ.com"/>


<meta property="article:publisher" content="https://www.facebook.com/OverIQ/"/>



<meta name="twitter:card" content="summary_large_image"/>

    <meta name="twitter:description" content="CKEDITOR_CONFIGS refer to the settings which CKEditor uses to customize its appearance and behavior. To learn more about settings visit CKEditor conf…"/>


<meta name="twitter:title" content="Integrating CKeditor in Django"/>
<meta name="twitter:site" content="@infoOverIQ"/>

<meta name="twitter:creator" content="@infoOverIQ"/>




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../feed.xml/index.html"/>
    
    
    <link href="../../../fonts.googleapis.com/cssd2d5.css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="../../static/wiki/favicon.png" sizes="32x32"/>

    <link rel="stylesheet" href="../../static/CACHE/css/output.db46da465a8b.css" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-125424793-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125424793-1');
    </script>


<script type='text/javascript'>
var ezoTemplate = 'orig_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 92771;
var ezdomain = 'overiq.com';
var ezoicSearchable = 1;
</script></head>
<body>

<div class="overiq-header text-center">
    <div class="site-branding">
        <p class="main-title">
            <a href="../../index.html" rel="home">
                OverIQ.com
            </a>
        </p>
    </div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li>
                    <a href="../../blog/index.html">Blog</a>
                </li>
                <li>
                    <a href="../../contact/index.html">Contact</a>
                </li>
                <li>
                    <a href="../../about/index.html">About</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right visible-lg visible-md">
                <li>
                    <a href="../../feed.xml/index.html" title="RSS" target="_blank">
                        <i class="fa fa-rss fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/overiq/" target="_blank" title="Github">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.facebook.com/OverIQ/" target="_blank" title="Facebook">
                        <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/infoOverIQ" target="_blank" title="Twitter">
                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
                    </a>
                </li>

                

            </ul>

            <form action="https://overiq.com/search/" class="navbar-form navbar-left" role="search">

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="query" value=""/>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </form>

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    


    <div class="se-pre-con"></div>

    

    <div class="row">

        
        <div class="main">
            <div class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        <ol class="breadcrumb">

    <li><a href="../../index.html">Home</a></li>

    
        
        <li><a href="../index.html">Django 1.10 Tutorial</a></li>
        

        

        
    
        

        

        
            <li class="active">Integrating CKeditor in Django</li>
        
    

</ol>
    


<h1>Integrating CKeditor in Django</h1>




    <p><i class="fa fa-calendar" aria-hidden="true"></i>
        Last updated on July 27, 2020
    </p>


<hr/>



<p>CKEDITOR_CONFIGS refer to the settings which CKEditor uses to customize its appearance and behavior. To learn more about settings visit CKEditor configuration (<a href="http://docs.ckeditor.com/#!/guide/dev_configuration">http://docs.ckeditor.com/#!/guide/dev_configuration</a>).</p>

<p>At this point, we are using HTML <code>&lt;textarea&gt;</code> element to create content. It has following drawbacks:</p>

<ol>
<li>We are unable to format content.</li>
<li>No support for images.</li>
</ol>

<p>One way to solve these problems is to type HTML code directly into the <code>&lt;textarea&gt;</code> element and then print the content using the <code>safe</code> filter in the template. Recall that by default, for security reasons Django escapes the content of the variable, the <code>safe</code> filter tells Django that content is safe and does not require HTML escaping.</p>

<p>But the problem is nobody likes to type HTML. Further, from the usability point of view, our site would be useless for users who don&#39;t know HTML. That is unacceptable.</p>

<p>What we need is a WYSIWYG HTML editor.</p>

<p>WYSIWYG (&#34;what you see is what you get&#34;) HTML editor allows to format content easily by providing an interface similar for Microsoft Word. To use a WYSIWYG editor just select the formatting you want and editor will automatically create valid HTML markup.</p>

<p>There are many WYSIWYG editors out there like TinyMCE, Froala, CKEditor etc. In our project, we are going to use CKEditor.</p>

<p>Fortunately, there is a package called <a href="https://github.com/django-ckeditor/django-ckeditor" rel="nofollow">Django CKEditor</a>, which allows us to integrate CKEditor into Django easily.</p>

<p>After integrating Django CKEditor we will have a Rich Text Editor with image uploading capability instead if boring <code>&lt;textarea&gt;</code> element.</p>
<span id="installing-django-ckeditor" class="anchor-target"></span><h2 class="heading">Installing Django CKEditor <a class="header-link" href="#installing-django-ckeditor">#</a></h2>

<p>In terminal or command prompt and enter the following command to install Django CKEditor.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;pip install django-ckeditor</code></pre>

<p>Open <code>settings.py</code> file and add <code>&#39;ckeditor&#39;</code> and <code>&#39;ckeditor_uploader&#39;</code> to <code>INSTALLED_APPS</code> list as follows:</p>

<p><strong>TGDB/django_project/django_project/settings.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.flatpages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sites&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sitemaps&#39;</span><span class="p">,</span>
<span class="hll">    <span class="s1">&#39;ckeditor&#39;</span><span class="p">,</span>
</span><span class="hll">    <span class="s1">&#39;ckeditor_uploader&#39;</span><span class="p">,</span>
</span>    <span class="s1">&#39;blog&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cadmin&#39;</span>
<span class="p">]</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>At the end of <code>settings.py</code> file add the following configuration:</p>

<p><strong>TGDB/django_project/django_project/settings.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">SITE_ID</span> <span class="o">=</span> <span class="mi">1</span>

<span class="hll"><span class="c1">####################################</span>
</span><span class="hll">    <span class="c1">##  CKEDITOR CONFIGURATION ##</span>
</span><span class="hll"><span class="c1">####################################</span>
</span><span class="hll">
</span><span class="hll"><span class="n">CKEDITOR_JQUERY_URL</span> <span class="o">=</span> <span class="s1">&#39;https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js&#39;</span>
</span><span class="hll">
</span><span class="hll"><span class="n">CKEDITOR_UPLOAD_PATH</span> <span class="o">=</span> <span class="s1">&#39;uploads/&#39;</span>
</span><span class="hll"><span class="n">CKEDITOR_IMAGE_BACKEND</span> <span class="o">=</span> <span class="s2">&#34;pillow&#34;</span>
</span><span class="hll">
</span><span class="hll"><span class="n">CKEDITOR_CONFIGS</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">        <span class="s1">&#39;toolbar&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
</span><span class="hll">    <span class="p">},</span>
</span><span class="hll"><span class="p">}</span>
</span><span class="hll">
</span><span class="hll"><span class="c1">###################################</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Here is a rundown of each property we have used above:</p>

<p><code>CKEDITOR_JQUERY_URL</code> refers to the jquery file which CKEditor uses.</p>

<p><code>CKEDITOR_UPLOAD_PATH</code> refers the directory where images will be uploaded relative to your <code>MEDIA_ROOT</code>. Recall the we already set <code>MEDIA_ROOT</code> to <code>os.path.join(BASE_DIR, &#39;media&#39;)</code>. So the image files will be uploaded to <code>media/euploads</code> directory. You don&#39;t need to create <code>uploads</code> directory it will be created automatically for you.</p>

<p><code>CKEDITOR_IMAGE_BACKEND</code> refers to the image library which CKEditor uses to create thumbnails to display in CKEditor gallery.</p>

<p><code>CKEDITOR_CONFIGS</code> refer to the settings which CKEditor uses to customize its appearance and behavior. To learn more about settings visit <a href="http://docs.ckeditor.com/#!/guide/dev_configuration" rel="nofollow">CKEditor configuration</a>.</p>

<p>Before we go ahead further, let&#39;s install pillow library which django-ckeditor will use to create thumbnails.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;pip install pillow</code></pre>

<p>At last, add django-ckeditor URLs to sitewide <code>urls.py</code> file.</p>

<p><strong>TGDB/django_project/django_project/urls.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;blog.urls&#39;</span><span class="p">)),</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^cadmin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;cadmin.urls&#39;</span><span class="p">)),</span>
<span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^ckeditor/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;ckeditor_uploader.urls&#39;</span><span class="p">)),</span>
</span><span class="p">]</span> <span class="o">+</span> <span class="n">static</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">,</span> <span class="n">document_root</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_ROOT</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div><span id="django-ckeditor-usage" class="anchor-target"></span><h2 class="heading">Django CKEditor Usage <a class="header-link" href="#django-ckeditor-usage">#</a></h2>

<p>Django CKEditor provides the following two ways to integrate Rich Text Editor:</p>

<ol>
<li>Using Model Fields.</li>
<li>Using Form Widgets.</li>
</ol>
<span id="model-fields" class="anchor-target"></span><h3 class="heading">Model Fields <a class="header-link" href="#model-fields">#</a></h3>

<p>There are two types of model fields <code>RichTextField</code> and <code>RichTextUploadingField</code>. The <code>RichTextField</code> only adds a rich text editor without image uploader while <code>RichTextUploadingField</code> field adds a rich text editor with image uploader.</p>

<p>To use <code>RichTextField</code> or <code>RichTextUploadingField</code> replace <code>models.TextField()</code> with <code>RichTextField</code> or <code>RichTextUploadingField</code> field. For example:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ckeditor_uploader.fields</span> <span class="kn">import</span> <span class="n">RichTextField</span><span class="p">,</span> <span class="n">RichTextUploadingField</span>

<span class="k">class</span> <span class="nc">ModelClass</span><span class="p">:</span>
    <span class="c1">## content = models.TextField()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">RichTextUploadingField</span><span class="p">()</span>
</pre></div>
</td></tr></tbody></table></div><span id="form-widgets" class="anchor-target"></span><h3 class="heading">Form widgets <a class="header-link" href="#form-widgets">#</a></h3>

<p>Django CKEditor also provides <code>CKEditorWidget</code> and <code>CKEditorUploadingWidget</code> widgets which adds rich text editor without image uploader and a rich text editor with image uploader respectively.</p>

<p>To use them, just pass <code>CKEditorWidget</code> or <code>CKEditorUploadingWidget</code> to the <code>widget</code> keyword argument as follows:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ckeditor_uploader.widgets</span> <span class="kn">import</span> <span class="n">CKEditorWidget</span><span class="p">,</span> <span class="n">CKEditorUploadingWidget</span>

<span class="k">class</span> <span class="nc">PostForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">CKEditorUploadingWidget</span><span class="p">())</span>
</pre></div>
</td></tr></tbody></table></div><span id="rendering-ckeditor-outside-of-django-admin" class="anchor-target"></span><h2 class="heading">Rendering CKEditor outside of Django Admin <a class="header-link" href="#rendering-ckeditor-outside-of-django-admin">#</a></h2>

<p>It doesn&#39;t matter which method you use if you are rendering CKEditor outside of Django Admin you will have to make sure all the necessary JavaScript files used by CKEditor are available in your templates. One way to achieve this is to use <code>form.media</code> variable in your templates:</p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="x">&lt;form&gt;</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">form.media</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">form.as_p</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;input type=&#34;submit&#34;/&gt;</span>
<span class="x">&lt;/form&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>or load individual files manually as follows:</p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">load</span> <span class="nv">static</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;script type=&#34;text/javascript&#34; src=&#34;https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js&#34;&gt;&lt;/script&gt;</span>
<span class="x">&lt;script type=&#34;text/javascript&#34; src=&#34;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s2">&#34;ckeditor/ckeditor-init.js&#34;</span> <span class="cp">%}</span><span class="x">&#34;&gt;&lt;/script&gt;</span>
<span class="x">&lt;script type=&#34;text/javascript&#34; src=&#34;</span><span class="cp">{%</span> <span class="k">static</span> <span class="s2">&#34;ckeditor/ckeditor/ckeditor.js&#34;</span> <span class="cp">%}</span><span class="x">&#34;&gt;&lt;/script&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Now you should have a good understanding of django-ckeditor package. Let&#39;s integrate it in our project.</p>
<span id="updating-model-fields" class="anchor-target"></span><h2 class="heading">Updating Model Fields <a class="header-link" href="#updating-model-fields">#</a></h2>

<p>Open blog&#39;s app <code>models.py</code> file and change the type of <code>content</code> field in <code>Post</code> model to  <code>RichTextUploadingField()</code>, as follows:</p>

<p><strong>TGDB/django_project/blog/models.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="hll"><span class="kn">from</span> <span class="nn">ckeditor_uploader.fields</span> <span class="kn">import</span> <span class="n">RichTextUploadingField</span>
</span>
<span class="c1">#...</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">help_text</span><span class="o">=</span><span class="s2">&#34;Slug will be generated automatically from the title of the post&#34;</span><span class="p">)</span>    
<span class="hll">    <span class="n">content</span> <span class="o">=</span> <span class="n">RichTextUploadingField</span><span class="p">()</span>
</span>    <span class="n">pub_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>In the Django Admin, visit Add post/Change post page and you will be presented a page that looks like this:</p>

<p><img src="../../media/uploads/2017/09/11/django-ckeditor.png" loading="lazy" alt=""/></p>

<p>We are seeing is CKEditor is action. Now you have full capability to format posts to your heart&#39;s content. Add some paragraphs of text and heading. To add images to post click on image icon on the left side, just above &#34;Styles&#34; dropdown and you will see a pop-up window like this:</p>

<p><img src="../../media/uploads/2017/09/11/click-to-upload-image.png" loading="lazy" alt=""/></p>

<p><img src="../../media/uploads/2017/09/11/django-ckeditor-image-uploader.png" loading="lazy" alt=""/></p>

<p>Click the &#34;Browse Server&#34; button, this will open CKEditor Image Gallery which allows us to view uploaded images as well as add images to the post. To add an image into the post, select it and click on &#34;Embed Image&#34; button at the bottom of the window.</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-image-gallery.png" loading="lazy" alt=""/></p>

<p>In case, you haven&#39;t uploaded any images, then CKEditor Image Gallery will look like this:</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-empty-image-gallery.png" loading="lazy" alt=""/></p>

<p>We can also upload an image from the hard drive. To do so, click on the &#34;Upload&#34; tab. Select file and Click &#34;Send it to the Server&#34;.</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-uploading-image.png" loading="lazy" alt=""/></p>

<p>You will be taken back to Images Info tab. Click OK to add an image to the post. Save the post by clicking &#34;Save and continue editing&#34;.</p>

<p><img src="../../media/uploads/2017/09/11/image-info-tab.png" loading="lazy" alt=""/></p>

<p><img src="../../media/uploads/2017/09/11/embedded-image.png" loading="lazy" alt=""/></p>

<p>To view the post click on the &#34;VIEW ON SITE&#34; link at the top right corner of the page and you see a page like this:</p>

<p><img src="../../media/uploads/2017/09/11/escaped-post-data.png" loading="lazy" alt=""/></p>

<p>What&#39;s going on?</p>

<p>As we already know, by default, Django escapes HTML because of security concerns. We can tell Django not to escape data by using <code>safe</code> filter. Open <code>post_details.html</code> in the blog directory and change <code>post.content</code> to <code>post.content|safe</code>.</p>

<p><strong>TGDB/django_project/blog/templates/blog/post_detail.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="x">{#...</span>
<span class="x">&lt;p&gt;</span>
<span class="hll"><span class="x">    </span><span class="cp">{{</span> <span class="nv">post.content</span><span class="o">|</span><span class="nf">safe</span> <span class="cp">}}</span><span class="x"></span>
</span><span class="x">&lt;/p&gt;</span>
<span class="x">{#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Revisit the post we created above. This time you should see properly formatted HTML as follows:</p>

<p><img src="../../media/uploads/2017/09/11/properly-formatted-html-JYVZTK.png" loading="lazy" alt=""/></p>
<span id="adding-ckeditor-media-files-to-cadmin" class="anchor-target"></span><h2 class="heading">Adding CKEditor Media Files to cadmin <a class="header-link" href="#adding-ckeditor-media-files-to-cadmin">#</a></h2>

<p>At this point, CKEditor is working as Expected in Django Admin. But if you login to cadmin and visit on Add Post/Update Post page, you will find that CKEditor is not showing up.</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-now-showing-up-in-cadmin.png" loading="lazy" alt=""/></p>

<p>The problem is that necessary JavaScript files used by CKEditor are not available in our custom admin panel. To add these files, we have to use <code>form.media</code> template variable to our templates.</p>

<p>Open cadmin&#39;s, <code>post_add.html</code> and <code>post_update.html</code> template and update the code as follows:</p>

<p><strong>TGDB/django_project/cadmin/templates/cadmin/post_add.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">        &lt;form action=&#34;&#34; method=&#34;post&#34;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">csrf_token</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">            </span><span class="cp">{{</span> <span class="nv">form.media</span> <span class="cp">}}</span><span class="x"></span>
</span><span class="x">            &lt;table&gt;            </span>
<span class="x">            </span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">        &lt;/form&gt;</span>
<span class="c">{# ... #}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>TGDB/django_project/cadmin/templates/cadmin/post_update.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">        &lt;form action=&#34;&#34; method=&#34;post&#34;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">csrf_token</span> <span class="cp">%}</span><span class="x"></span>
<span class="hll"><span class="x">            </span><span class="cp">{{</span> <span class="nv">form.media</span> <span class="cp">}}</span><span class="x"></span>
</span><span class="x">            &lt;table&gt;        </span>
<span class="x">            </span><span class="c">{# ... #}</span><span class="x"></span>
<span class="x">        &lt;/form&gt;                    </span>
<span class="c">{# ... #}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Visit Add Post and Post Update page. This time CKEditor should be visible in both the pages.</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-in-cadmin-RXVHBA.png" loading="lazy" alt=""/></p>

<p>By Default, Django CKEditor only allows staff members (i.e <code>is_staff=True</code>) to upload and browse images. All the users created via <code>http://127.0.0.1:8000/cadmin/register/</code> have <code>is_staff</code> attribute set to <code>False</code>, which means that they can&#39;t upload or browse images using CKEditor. If you try to browser or upload image using a non-staff account in cadmin you will get a warning like this:</p>

<p><img src="../../media/uploads/2017/09/11/ckeditor-change-account-to-upload-image.png" loading="lazy" alt=""/></p>

<p>As you can see, Django is asking you to login with a different account, the one with staff privilege i.e <code>is_staff=True</code>.</p>

<p>There are two ways to solve this problem:</p>

<ol>
<li><p>set <code>is_staff</code> attribute to <code>True</code> every time a new user is created (recommended approach).</p></li>
<li><p>Change the source code if django-ckeditor package to allow every registered user to upload image irrespective of the value of <code>is_staff</code> attribute (not recommended because it may break your application after every update).</p></li>
</ol>

<p>Let&#39;s start with the first one.</p>

<p>To set <code>is_staff</code> to <code>True</code>, open cadmin&#39;s <code>views.py</code>, and update <code>register()</code> view as follows:</p>

<p><strong>TGDB/django_project/cadmin/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1">#...</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">u</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
                        <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">],</span>
                        <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">],</span>
                        <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s1">&#39;password1&#39;</span><span class="p">],</span>
                        <span class="n">is_active</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="hll">                        <span class="n">is_staff</span> <span class="o">=</span> <span class="bp">True</span>
</span>                <span class="p">)</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>This update will only be applied to newly created users. To update the <code>is_staff</code> attribute of all existing user created via Create User Form (i.e <code>http://127.0.0.1:8000/cadmin/register/</code>) execute the following commands in Django shell:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">authors</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">activation_key__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">authors</span><span class="p">:</span>
<span class="o">...</span>   <span class="n">a</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_staff</span> <span class="o">=</span> <span class="bp">True</span>
<span class="o">...</span>   <span class="n">a</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>You could also use Django Admin to do the above task.</p>

<p>It is important to note that setting <code>is_staff</code> attribute to <code>True</code> allows non-staff members to login into the Django Admin but doesn&#39;t give any extra permission to do anything. In other words, after logging in the user will not be able to perform any changes in the Django Admin at all. To verify this fact login to Django Admin (<code>http://127.0.0.1:8000/admin/</code>) using a non-staff account and you will be displayed a page like this:</p>

<p><img src="../../media/uploads/2017/09/11/no-permission.png" loading="lazy" alt=""/></p>

<p>As you can see, the logged in user doesn&#39;t have permission to perform any action, which is what we want. On the other hand, in the cadmin he can now upload images and edit anything object which he created himself.</p>

<p>Another way to solve this problem is to change the source code of django-ckeditor. The django-ckeditor uses <code>staff_member_required</code> decorator which checks whether the logged in user is a staff member or not. <code>staff_member_required</code> only triggers the views when logged in user is a staff member. To allow any logged in user to browse and upload images replace <code>staff_member_required</code> with <code>login_required</code>.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="kn">from</span> <span class="nn">django.contrib.admin.views.decorators</span> <span class="kn">import</span> <span class="n">staff_member_required</span><span class="p">,</span> <span class="n">login_required</span>

<span class="k">if</span> <span class="n">django</span><span class="o">.</span><span class="n">VERSION</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
    <span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>

<span class="hll">        <span class="c1"># Custom</span>
</span><span class="hll">        <span class="c1">#</span>
</span><span class="hll">        <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^upload/&#39;</span><span class="p">,</span> <span class="n">login_required</span><span class="p">(</span><span class="n">views</span><span class="o">.</span><span class="n">upload</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ckeditor_upload&#39;</span><span class="p">),</span>
</span><span class="hll">        <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^browse/&#39;</span><span class="p">,</span> <span class="n">login_required</span><span class="p">(</span><span class="n">views</span><span class="o">.</span><span class="n">browse</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ckeditor_browse&#39;</span><span class="p">),</span>
</span>        
        <span class="c1"># Default</span>
        <span class="c1">#        </span>
        <span class="c1"># url(r&#39;^upload/&#39;, staff_member_required(views.upload), name=&#39;ckeditor_upload&#39;),</span>
        <span class="c1"># url(r&#39;^browse/&#39;, never_cache(staff_member_required(views.browse)), name=&#39;ckeditor_browse&#39;),</span>
    <span class="p">]</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>You should not change the original code directly instead make a copy and comment out the original code and then make changes on the copy as required.</p>

<p>That&#39;s all there is to it. You should now have a pretty good understanding of Django Framework. I hope you enjoyed it.</p>

<p><strong>Note:</strong> To checkout this version of the repository type <code>git checkout 37a</code>.</p>



    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../revisiting-cadmin-app/index.html" title="Revisiting cadmin App">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Revisiting cadmin App
                        </a>
                    </li>
                

                
            </ul>
        </nav>







    <hr/>
    <div id="disqus_thread">
    <p style="margin-bottom: 10px" class="text-center">
        <a href="#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">
            <i class="fa fa-comments" aria-hidden="true"></i> Load Comments
        </a>
    </p>
    </div>
    <hr/>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '../../../overiqcom.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        
    <div class="well">
        <h4>Django 1.10 Tutorial</h4>
        <ul>
            
                <li><a href="../intro-to-django/index.html">Intro to Django</a></li>
            
                <li><a href="../installing-django/index.html">Installing Django</a></li>
            
                <li><a href="../creating-django-project/index.html">Creating Django Project</a></li>
            
                <li><a href="../mvc-pattern-and-django/index.html">MVC Pattern and Django</a></li>
            
                <li><a href="../views-and-urlconfs-in-django/index.html">Views and URLconfs in Django</a></li>
            
                <li><a href="../basics-of-django-templates/index.html">Basics of Django Templates</a></li>
            
                <li><a href="../template-tags-in-django/index.html">Template tags in Django</a></li>
            
                <li><a href="../template-filters-in-django/index.html">Template filters in Django</a></li>
            
                <li><a href="../loading-templates-in-django/index.html">Loading Templates in Django</a></li>
            
                <li><a href="../template-inheritance-in-django/index.html">Template Inheritance in Django</a></li>
            
                <li><a href="../basics-of-models-in-django/index.html">Basics of Models in Django</a></li>
            
                <li><a href="../migrations-in-django/index.html">Migrations in Django</a></li>
            
                <li><a href="../django-orm-basics/index.html">Django ORM Basics</a></li>
            
                <li><a href="../accessing-related-data-using-django-orm/index.html">Accessing Related Data Using Django ORM</a></li>
            
                <li><a href="../building-blog-the-first-steps/index.html">Building Blog The First Steps</a></li>
            
                <li><a href="../django-admin-app/index.html">Django Admin App</a></li>
            
                <li><a href="../creating-urls-in-django/index.html">Creating URLs in Django</a></li>
            
                <li><a href="../showing-404-errors-in-django/index.html">Showing 404 errors In Django</a></li>
            
                <li><a href="../redirecting-urls-in-django/index.html">Redirecting URLs in Django</a></li>
            
                <li><a href="../django-form-basics/index.html">Django Form Basics</a></li>
            
                <li><a href="../displaying-forms-in-django/index.html">Displaying Forms in Django</a></li>
            
                <li><a href="../building-contact-us-page/index.html">Building Contact Us Page</a></li>
            
                <li><a href="../django-rendering-fields-manually/index.html">Django Rendering Fields Manually</a></li>
            
                <li><a href="../handling-static-content-in-django/index.html">Handling Static Content in Django</a></li>
            
                <li><a href="../handling-media-files-in-django/index.html">Handling Media Files in Django</a></li>
            
                <li><a href="../pagination-in-django/index.html">Pagination in Django</a></li>
            
                <li><a href="../cookies-in-django/index.html">Cookies in Django</a></li>
            
                <li><a href="../sessions-in-django/index.html">Sessions in Django</a></li>
            
                <li><a href="../django-authentication-framework-basics/index.html">Django Authentication Framework Basics</a></li>
            
                <li><a href="../django-logging-users-in-and-out/index.html">Django Logging Users In and Out</a></li>
            
                <li><a href="../django-password_change-view/index.html">Django password_change() View</a></li>
            
                <li><a href="../django-creating-users-using-usercreationform/index.html">Django Creating Users using UserCreationForm</a></li>
            
                <li><a href="../django-extending-user-model/index.html">Django Extending User model</a></li>
            
                <li><a href="../flatpages-in-django/index.html">Flatpages in Django</a></li>
            
                <li><a href="../creating-sitemaps-in-django/index.html">Creating Sitemaps in Django</a></li>
            
                <li><a href="../revisiting-cadmin-app/index.html">Revisiting cadmin App</a></li>
            
                <li><a href="index.html">Integrating CKeditor in Django</a></li>
            
        </ul>
    </div>

    

    
        

<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../../machine-learning-experts-you-should-be-following-online/index.html">Machine Learning Experts You Should Be Following Online</a></li>
        
            <li><a href="../../4-ways-to-prepare-for-the-ap-computer-science-a-exam/index.html">4 Ways to Prepare for the AP Computer Science A Exam</a></li>
        
            <li><a href="../../finance-assignment-online-help-for-the-busy-and-tired-students-get-help-from-experts/index.html">Finance Assignment Online Help for the Busy and Tired Students: Get Help from Experts</a></li>
        
            <li><a href="../../top-9-machine-learning-algorithms-for-data-scientists/index.html">Top 9 Machine Learning Algorithms for Data Scientists</a></li>
        
            <li><a href="../../data-science-learning-path-or-steps-to-become-a-data-scientist-final/index.html">Data Science Learning Path or Steps to become a data scientist Final</a></li>
        
            <li><a href="../../enable-edit-button-in-shutter-in-linux-mint-19-and-ubuntu-18-04/index.html">Enable Edit Button in Shutter In Linux Mint 19 and Ubuntu 18.04</a></li>
        
            <li><a href="../../python-3-time-module/index.html">Python 3 time module</a></li>
        
            <li><a href="../../pygments-tutorial/index.html">Pygments Tutorial</a></li>
        
            <li><a href="../../how-to-use-virtualenv/index.html">How to use Virtualenv?</a></li>
        
            <li><a href="../../installing-mysql-windows-linux-and-mac/index.html">Installing MySQL (Windows, Linux and Mac)</a></li>
        
            <li><a href="../../what-is-if-__name__-__main__-in-python/index.html">What is if __name__ == &#39;__main__&#39;  in Python ?</a></li>
        
            <li><a href="../../installing-goaccess-a-real-time-web-log-analyzer/index.html">Installing GoAccess (A Real-time web log analyzer)</a></li>
        
            <li><a href="../../installing-isso/index.html">Installing Isso</a></li>
        
    </ul>
</div>

<!-- Blog Search Well -->





















    



            </div>
        </div>
    </div>



    

</div>

<!-- Footer -->
<footer class="overiq-footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../../sitemap.xml/index.html">Sitemap</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../contact/index.html">Contact</a></li>
                    <li><a href="../../blog/index.html">Blog</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="https://www.facebook.com/OverIQ/">Facebook</a></li>
                    <li><a href="https://twitter.com/infoOverIQ">Twitter</a></li>
                    <li><a href="https://github.com/overiq">Github</a></li>
                </ul>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../c-programming-101/index.html">C Tutorial</a></li>
                    <li><a href="../../python-101/index.html">Python Tutorial</a></li>
                    <li><a href="../../django-1-11/index.html">Django Tutorial</a></li>
                    <li><a href="../../flask-101/index.html">Flask Tutorial</a></li>
                    <li><a href="../../mysql-connector-python-101/index.html">MySQL Connector/Python Tutorial</a></li>
                    <li><a href="../../sqlalchemy-101/index.html">SQLAlchemy Tutorial</a></li>
                    <li><a href="../../c-examples/index.html">C Programming Examples</a></li>
                </ul>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row text-center">
            <p>© 2025 OverIQ.com</p>
            <small><a href="#">Back to top</a></small>
        </div>

        <!-- /.row -->
    </div>
</footer>



<script type="text/javascript" src="../../static/CACHE/js/output.2e0ff002c1a4.js"></script>




<script async="" src="../../../cdn.jsdelivr.net/npm/cookieconsent%403/build/cookieconsent.min.js" data-cfasync="false"></script>

<script>

    
    window.addEventListener('load', function () {
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#5ca9e0",
                    "text": "#ffffff"
                },
                "button": {
                    "background": "#fff",
                    "text": "#237afc"
                }
            },
            "theme": "classic",
            "position": "top",
            "static": true,
            "content": {
                "href": "https://overiq.com/privacy-policy/"
            }
        });
    });


</script>

<script src="../../../polyfill.io/v3/polyfill.min1162.js?features=es6"></script>
<script id="MathJax-script" defer="" src="../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml.js"></script>

<script async="" type="text/javascript" src="../../../cdn.carbonads.com/carbonfbdb.js?serve=CE7DC53E&amp;placement=overiqcom" id="_carbonads_js"></script>





<script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.overiq.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body>
<!-- Mirrored from overiq.com/django-1-10/integrating-ckeditor-in-django/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:06:38 GMT -->
</html>