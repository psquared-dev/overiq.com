<!DOCTYPE html><html lang="en">
<!-- Mirrored from overiq.com/django-1-10/sessions-in-django/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:05:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/>
<script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force){var setScript=function(){if(force||window.ezTcfConsent[category]){var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script>
<script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=true;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET/index.html","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot={};__ez.queue.addFile('../../detroitchicago/boise.js', '../../detroitchicago/boisebb26.js?gcb=195-3&amp;cb=5', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/abilene.js', '../../parsonsmaize/abilenec0f9.js?gcb=195-3&amp;cb=7f81d60744', true, [], true, false, true, false);__ez.queue.addFile('../../parsonsmaize/mulvane.js', '../../parsonsmaize/mulvane2d63.js?gcb=195-3&amp;cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFile('../../detroitchicago/birmingham.js', '../../detroitchicago/birminghame7ec.js?gcb=195-3&amp;cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain_id":92771,"ezcache_level":1,"ezcache_skip_code":0,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":0,"lt_cache_level":0,"response_size":78800,"response_size_orig":73032,"response_time_orig":1316,"template_id":5,"url":"https://overiq.com/django-1-10/sessions-in-django/","word_count":0,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6],"omd5":"6548ce6a55c7723299611ba25b970692"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST/index.html','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><base />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Sessions in Django - Django 1.10 Tutorial - OverIQ.com</title>

    
    



    <meta name="description" content="In the last chapter (Cookies in Django), we have learned how cookies allow us to store data in browser easily. Although no doubt cookies are useful, …"/>



    <link rel="canonical" href="index.html"/>


<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Sessions in Django"/>

    <meta property="og:description" content="In the last chapter (Cookies in Django), we have learned how cookies allow us to store data in browser easily. Although no doubt cookies are useful, …"/>


<meta property="og:url" content="https://overiq.com/django-1-10/sessions-in-django/"/>
<meta property="og:site_name" content="OverIQ.com"/>


<meta property="article:publisher" content="https://www.facebook.com/OverIQ/"/>



<meta name="twitter:card" content="summary_large_image"/>

    <meta name="twitter:description" content="In the last chapter (Cookies in Django), we have learned how cookies allow us to store data in browser easily. Although no doubt cookies are useful, …"/>


<meta name="twitter:title" content="Sessions in Django"/>
<meta name="twitter:site" content="@infoOverIQ"/>

<meta name="twitter:creator" content="@infoOverIQ"/>




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../feed.xml/index.html"/>
    
    
    <link href="../../../fonts.googleapis.com/cssd2d5.css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="../../static/wiki/favicon.png" sizes="32x32"/>

    <link rel="stylesheet" href="../../static/CACHE/css/output.db46da465a8b.css" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-125424793-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125424793-1');
    </script>


<script type='text/javascript'>
var ezoTemplate = 'orig_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 92771;
var ezdomain = 'overiq.com';
var ezoicSearchable = 1;
</script></head>
<body>

<div class="overiq-header text-center">
    <div class="site-branding">
        <p class="main-title">
            <a href="../../index.html" rel="home">
                OverIQ.com
            </a>
        </p>
    </div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li>
                    <a href="../../blog/index.html">Blog</a>
                </li>
                <li>
                    <a href="../../contact/index.html">Contact</a>
                </li>
                <li>
                    <a href="../../about/index.html">About</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right visible-lg visible-md">
                <li>
                    <a href="../../feed.xml/index.html" title="RSS" target="_blank">
                        <i class="fa fa-rss fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/overiq/" target="_blank" title="Github">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.facebook.com/OverIQ/" target="_blank" title="Facebook">
                        <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/infoOverIQ" target="_blank" title="Twitter">
                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
                    </a>
                </li>

                

            </ul>

            <form action="https://overiq.com/search/" class="navbar-form navbar-left" role="search">

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="query" value=""/>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </form>

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    


    <div class="se-pre-con"></div>

    

    <div class="row">

        
        <div class="main">
            <div class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        <ol class="breadcrumb">

    <li><a href="../../index.html">Home</a></li>

    
        
        <li><a href="../index.html">Django 1.10 Tutorial</a></li>
        

        

        
    
        

        

        
            <li class="active">Sessions in Django</li>
        
    

</ol>
    


<h1>Sessions in Django</h1>




    <p><i class="fa fa-calendar" aria-hidden="true"></i>
        Last updated on July 27, 2020
    </p>


<hr/>



<p>In the last chapter (<a href="../cookies-in-django/index.html">Cookies in Django</a>), we have learned how cookies allow us to store data in browser easily. Although no doubt cookies are useful, they have following problems.</p>

<ol>
<li>An attacker can modify contents of a cookie that could potentially break your application</li>
<li>We can&#39;t store sensitive data.</li>
<li>We can only store a limited amount of data in cookies. Most browsers don&#39;t allow a cookie to store more than 4KB of data. Breaking data into multiple cookies causes too much overhead in each request. Further, you can&#39;t even rely on a number of cookies allowed by the browser for each domain.</li>
</ol>

<p>We can overcome these problems easily using Sessions. This is how session work:</p>

<p>When we use sessions the data is not stored directly in the browser instead it is stored in the server. Django creates a unique random string called session id or SID and associates SID with the data. The server then sends a cookie named sessionid containing SID as value to the browser. On requesting a page, the browser sends the request along with the cookie with SID to the server. Django then uses this SID to retrieve session data and makes it accessible in your code. SID generated by Django is a 32 characters long random string, so it is almost impossible to guess by an attacker.</p>
<span id="setting-up-sessions" class="anchor-target"></span><h2 class="heading">Setting Up Sessions <a class="header-link" href="#setting-up-sessions">#</a></h2>

<p>In Django, sessions are implemented using middleware. Open <code>settings.py</code> file and locate <code>MIDDLEWARE</code> list variable. If it has <code>&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</code> as one of the elements then you are good to go. If you can&#39;t see it, just add it now to the <code>MIDDLEWARE</code> list. At this point, the <code>MIDDLEWARE</code> list should look like this:</p>

<p><strong>TGDB/django_project/django_project/settings.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.middleware.security.SecurityMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.middleware.common.BrokenLinkEmailsMiddleware&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div>
<p>The <code>&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</code> is responsible for generating unique SID.</p>

<p>Django provides an app called <code>&#39;django.contrib.sessions&#39;</code> whose role is to store the session data into the database. So make sure you have <code>&#39;django.contrib.sessions&#39;</code> in the <code>INSTALLED_APPS</code> list. If for some reason you don&#39;t have <code>&#39;django.contrib.sessions&#39;</code> in <code>INSTALLED_APPS</code>, add it right now and run <code>python manage.py migrate</code> command. This command will create the necessary table to store the session data.</p>

<p><strong>TGDB/django_project/django_project/settings.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;blog&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cadmin&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="c1">#...</span>
</pre></div>
</td></tr></tbody></table></div><span id="testing-sessions" class="anchor-target"></span><h2 class="heading">Testing Sessions <a class="header-link" href="#testing-sessions">#</a></h2>

<p>We have already discussed that users can configure their browsers to not accept any cookie. As a result, Django provides some convenience methods to check cookies support in the browser. The <code>request.sessions</code> object provides the following three methods to check cookies support in the browser.</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Method</th>
<th>What it does?</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>set_test_cookie()</code></td>
<td>sets the cookie in the browser</td>
</tr>
<tr>
<td><code>test_cookie_worked()</code></td>
<td>returns <code>True</code> if browser accepted the cookie(a browser accepted the cookie means, it has sent the cookie to the server in the next request), Otherwise <code>False</code></td>
</tr>
<tr>
<td><code>delete_test_cookie()</code></td>
<td>delete the test cookie</td>
</tr>
</tbody>
</table></div>
<p>Let&#39;s try them!</p>

<p>Open blog app&#39;s <code>views.py</code> file and add following two views at the end of the file.</p>

<p><strong>TGDB/django_project/blog/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">def</span> <span class="nf">stop_tracking</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="c1">#...</span>

<span class="hll"><span class="k">def</span> <span class="nf">test_session</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">set_test_cookie</span><span class="p">()</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Testing session cookie&#34;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">def</span> <span class="nf">test_delete</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">test_cookie_worked</span><span class="p">():</span>
</span><span class="hll">        <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">delete_test_cookie</span><span class="p">()</span>
</span><span class="hll">        <span class="n">response</span> <span class="o">=</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Cookie test passed&#34;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="n">response</span> <span class="o">=</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Cookie test failed&#34;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">response</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>The <code>test_session()</code> view sets the cookie and <code>test_delete()</code> checks whether the browser accepted the cookie or not.</p>

<p>Add the following two URL patterns at the beginning of <code>urlpatterns</code> list in blog&#39;s <code>urls.py</code>.</p>

<p><strong>TGDB/django_project/blog/urls.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>    
<span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^test-delete/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">test_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_delete&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^test-session/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">test_session</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_session&#39;</span><span class="p">),</span>
</span>    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^stop-tracking/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">stop_tracking</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;stop_tracking&#39;</span><span class="p">),</span>
    <span class="c1">#...</span>
<span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Point your browser to <code>http://127.0.0.1:8000/test-session/</code> and you should see a page like this:</p>

<p><img src="../../media/uploads/2017/09/11/testing-session-cookie.png" loading="lazy" alt=""/></p>

<p>Open Developer Tools hitting Ctrl+Shift+J and visit Application tab again. If your browser accepted the cookie it should look like this:</p>

<p><img src="../../media/uploads/2017/09/11/session-cookie.png" loading="lazy" alt=""/></p>

<p>Now visit <code>http://127.0.0.1:8000/test-delete/</code>, if everything went fine, you would see &#34;Cookie test passed&#34; response.</p>

<p><img src="../../media/uploads/2017/09/11/cookie-test-passed.png" loading="lazy" alt=""/></p>

<p>On the other hand, if you get &#34;Cookie test failed&#34; message. Check the browser settings and allow websites to save cookies.</p>
<span id="reading-and-writing-session-data" class="anchor-target"></span><h2 class="heading">Reading and Writing Session Data <a class="header-link" href="#reading-and-writing-session-data">#</a></h2>

<p>To read and write session data we use <code>session</code> attribute of the <code>request</code> object. The <code>session</code> attribute acts like a dictionary.</p>

<p>Here is how we can save, read, and delete session data.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># set session data</span>

<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tom&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;18&#39;</span>

<span class="c1"># read session data</span>

<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="c1"># returns &#39;tom&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span> <span class="c1"># returns &#39;18&#39;</span>

<span class="c1">## delete session data</span>

<span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Open blog app&#39;s <code>views.py</code> and add the following three views at the end of the file.</p>

<p><strong>TGDB/django_project/blog/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="k">def</span> <span class="nf">test_delete</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1">#...</span>

<span class="hll"><span class="k">def</span> <span class="nf">save_session_data</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="c1"># set new data</span>
</span><span class="hll">    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="hll">    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;root&#39;</span>
</span><span class="hll">    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;rootpass&#39;</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Session Data Saved&#34;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">def</span> <span class="nf">access_session_data</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="n">response</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">):</span>
</span><span class="hll">        <span class="n">response</span> <span class="o">+=</span> <span class="s2">&#34;Id : {0} &lt;br&gt;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">))</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">):</span>
</span><span class="hll">        <span class="n">response</span> <span class="o">+=</span> <span class="s2">&#34;Name : {0} &lt;br&gt;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">))</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">):</span>
</span><span class="hll">        <span class="n">response</span> <span class="o">+=</span> <span class="s2">&#34;Password : {0} &lt;br&gt;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">))</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;No session data&#34;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">def</span> <span class="nf">delete_session_data</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="k">try</span><span class="p">:</span>
</span><span class="hll">        <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
</span><span class="hll">        <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span class="hll">        <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span class="hll">        <span class="k">pass</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Session Data cleared&#34;</span><span class="p">)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>here is what happen when <code>save_session_data()</code> view is called.</p>

<ol>
<li><code>&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</code> middleware creates a new random session id or SID and associates the session data with it.</li>
<li><code>&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</code> uses <code>&#39;django.contrib.sessions&#39;</code> app to store the session data in the database</li>
<li>At last, a cookie named <code>sessionid</code> with a random value(i.e <code>SID</code>) generated in step 1, is sent to the browser.</li>
<li>From now on, the browser would send this <code>sessionid</code> cookie with every request to the server, allowing Python code to access session data in views using <code>request.session</code></li>
</ol>

<p>Before we test this code add the following URL pattern to the blog&#39;s <code>urls.py</code> file:</p>

<p><strong>TGDB/django_project/blog/urls.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
<span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^save-session-data/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">save_session_data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;save_session_data&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^access-session-data/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">access_session_data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;access_session_data&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^delete-session-data/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">delete_session_data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;delete_session_data&#39;</span><span class="p">),</span>
</span>    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^test-delete/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">test_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_delete&#39;</span><span class="p">),</span>
    <span class="c1">#...</span>
<span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Visit <code>http://127.0.0.1:8000/save-session-data/</code> and you should get the following output.</p>

<p><img src="../../media/uploads/2017/09/11/save_session_data.png" loading="lazy" alt=""/></p>

<p>At this point, the browser should have a cookie named <code>sessionid</code> with a random SID.</p>

<p><img src="../../media/uploads/2017/09/11/sid.png" loading="lazy" alt=""/></p>

<p>To access session data visit <code>http://127.0.0.1:8000/access-session-data/</code> and you should get the following output:</p>

<p><img src="../../media/uploads/2017/09/11/access-session-data.png" loading="lazy" alt=""/></p>

<p>To delete the session data visit <code>http://127.0.0.1:8000/delete-session-data/</code>.</p>

<p><img src="../../media/uploads/2017/09/11/session-data-cleared.png" loading="lazy" alt=""/></p>

<p>Visit <code>http://127.0.0.1:8000/access-session-data/</code> again and you should see &#34;No session data&#34;.</p>

<p><img src="../../media/uploads/2017/09/11/access-session-data-2-NYTCSZ.png" loading="lazy" alt=""/></p>

<p>It is important to note that deleting session data from the database doesn&#39;t delete the session cookie in the browser. As a result, if you visit <code>http://127.0.0.1:8000/save-session-data/</code>, Django will reuse the SID sent by the browser to associate the session data with it again.</p>
<span id="modifying-session-data" class="anchor-target"></span><h2 class="heading">Modifying Session Data <a class="header-link" href="#modifying-session-data">#</a></h2>

<p>Here comes one of the most important thing you need to remember while using sessions:</p>

<blockquote>
<p>Django saves the session data into the database only when it is modified.</p>
</blockquote>

<p>By modified, Django means following actions:</p>

<ol>
<li><p>Adding new key-value pair to <code>request.session</code> dictionary.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">item_list</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="s1">&#39;20&#39;</span> <span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">:</span> <span class="s1">&#39;30&#39;</span> <span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;newkey&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;newval&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;items_to_buy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_list</span>
</pre></div>
</td></tr></tbody></table></div></li>
<li><p>Changing the value of an existing key.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;newkey&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;newval100&#39;</span>
</pre></div>
</div></li>
<li><p>Deleting the a key-value pair.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;newkey&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Unfortunately, the following is not a modification.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;items_to_buy&#39;</span><span class="p">][</span><span class="s1">&#39;eggs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;100&#39;</span>
</pre></div>
</div>
<p>But why ? Here we are not modifying <code>request.session</code> dictionary instead we are modifying <code>request.session[&#39;items_to_buy&#39;]</code>.</p>

<p>If you want Django to save these changes to the database, you have to set <code>modified</code> attribute of <code>session</code> object to <code>True</code>.</p>
<div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">modified</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>To change this default behavior permanently, set <code>SESSION_SAVE_EVERY_REQUEST</code> to <code>True</code> in <code>settings.py</code>. When <code>SESSION_SAVE_EVERY_REQUEST</code> is set to <code>True</code> Django will save session data to the database on every request, even if you don&#39;t modify session data at all.</p>

<p>Another important point worth mentioning here is that Django sends the session cookie to the browser only when session data is modified, in the process also updates the cookie expiry time.</p>

<p>If <code>SESSION_SAVE_EVERY_REQUEST</code> is set to <code>True</code>, Django will send the session cookie on every request.</p></li>
</ol>
<span id="sessions-api" class="anchor-target"></span><h2 class="heading">Sessions API <a class="header-link" href="#sessions-api">#</a></h2>

<p>Django provides an API which allows you to access session data outside of views.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">django.contrib.sessions.models</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="s1">&#39;t2m5w8ng9x55fa2a78b8s680dc1ubxpl&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">Session</span><span class="p">:</span> <span class="n">t2m5w8ng9x55fa2a78b8s680dc1ubxpl</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>The long string passed to the <code>get()</code> method is <code>SID</code>. You can copy it either from the browser or <code>session_key</code> column from the <code>django_session</code> table. By default, session data is stored in the <code>django_session</code> table. It consists of three columns as follows:</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Column</th>
<th>Explanation</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>session_key</code></td>
<td>To store unique random session id or SID</td>
</tr>
<tr>
<td><code>session_data</code></td>
<td>Django stores the session data in the encoded format. To get the data the raw data use <code>get_decoded()</code> method of the session object</td>
</tr>
<tr>
<td><code>expire_date</code></td>
<td>expiration date of the session cookie</td>
</tr>
</tbody>
</table></div>
<p>Once you have access to session object you can use it to query for other information.</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">expire_date</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">922337</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=&lt;</span><span class="n">UTC</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div><div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">session_data</span>   <span class="c1"># get the session data in encoded format</span>
<span class="s1">&#39;MzM0MjViODhhNTU3Yjg5NjA2YjVmODdiNjJkOGIxYTdkNzIxNmVkYzp7InBhc3N3b3JkIjoicm9vdHB</span>
<span class="n">hc3MifQ</span><span class="o">==</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div><div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">get_decoded</span><span class="p">()</span> <span class="c1"># get decoded session data</span>
<span class="p">{}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div>
<p>As you can see, <code>get_decoded()</code> method returns an empty dictionary because in my case there is no data associated with the given SID. Had there been data associated with the SID the <code>get_decoded()</code> would have returned a dictionary like this:</p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">get_decoded</span><span class="p">()</span>
<span class="p">{</span><span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="s1">&#39;rootpass&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></tbody></table></div><span id="setting-expiration-time-for-session-cookie" class="anchor-target"></span><h2 class="heading">Setting Expiration Time for Session Cookie <a class="header-link" href="#setting-expiration-time-for-session-cookie">#</a></h2>

<p>We can control session cookies expiration time by setting the following two variables in <code>settings.py</code> file:</p>
<div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Variable Name</th>
<th>Explanation</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>SESSION_COOKIE_AGE</code></td>
<td>This variable is used to set cookie expiration time in seconds. By default, it is set to 1209600 seconds or 2 weeks. If <code>SESSION_EXPIRE_AT_BROWSER_CLOSE</code> is not set then Django uses this variable to set cookie expiration time. Here is how you can set session cookie expiration time to 5 days: <code>SESSION_COOKIE_AGE = 3600*24*5</code></td>
</tr>
<tr>
<td><code>SESSION_EXPIRE_AT_BROWSER_CLOSE</code></td>
<td>This variable controls whether to expire the session cookie when the user closes the browser. By default, it is set to <code>False</code>. If set to <code>True</code>, session cookie lasts until the browser is closed, irrespective of the value of <code>SESSION_COOKIE_AGE</code>.</td>
</tr>
</tbody>
</table></div><span id="clearing-sessions" class="anchor-target"></span><h2 class="heading">Clearing Sessions <a class="header-link" href="#clearing-sessions">#</a></h2>

<p>Session data accumulates pretty fast especially if your site relies on sessions for different functionalities. It is a good idea to search for expired sessions regularly clean them before they start cluttering up your tables. Fortunately, Django provides <code>clearsessions</code> command to clear expired sessions from the tables.</p>

<pre><code>(env) C:\Users\Q\TGDB\django_project&gt;python manage.py clearsessions</code></pre>

<p>Let&#39;s conclude this chapter by creating a small project - The lousy login form.</p>
<span id="the-lousy-login" class="anchor-target"></span><h2 class="heading">The Lousy Login <a class="header-link" href="#the-lousy-login">#</a></h2>

<p>Sessions are commonly used to create login systems. The motive of this section is to show you how login systems are implemented using sessions.</p>

<p>Open blog&#39;s <code>views.py</code> and add <code>lousy_login()</code>, <code>lousy_secret()</code> and <code>lousy_logout()</code> views to the end of the file.</p>

<p><strong>TGDB/django_project/blog/views.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="kn">from</span> <span class="nn">django_project</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="hll"><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">messages</span>
</span>
<span class="c1">#...</span>
<span class="k">def</span> <span class="nf">delete_session_data</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1">#...</span>

<span class="hll"><span class="k">def</span> <span class="nf">lousy_login</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
</span><span class="hll">        <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
</span><span class="hll">        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
</span><span class="hll">        <span class="k">if</span> <span class="n">username</span> <span class="o">==</span> <span class="s2">&#34;root&#34;</span> <span class="ow">and</span> <span class="n">password</span> <span class="o">==</span> <span class="s2">&#34;pass&#34;</span><span class="p">:</span>
</span><span class="hll">            <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;logged_in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
</span><span class="hll">            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;lousy_secret&#39;</span><span class="p">)</span>
</span><span class="hll">        <span class="k">else</span><span class="p">:</span>
</span><span class="hll">            <span class="n">messages</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Error wrong username/password&#39;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;blog/lousy_login.html&#39;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">def</span> <span class="nf">lousy_secret</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="k">if</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;logged_in&#39;</span><span class="p">):</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;lousy_login&#39;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;blog/lousy_secret_page.html&#39;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">def</span> <span class="nf">lousy_logout</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class="hll">    <span class="k">try</span><span class="p">:</span>
</span><span class="hll">        <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;logged_in&#39;</span><span class="p">]</span>
</span><span class="hll">    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;lousy_login&#39;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;blog/lousy_logout.html&#39;</span><span class="p">)</span>
</span></pre></div>
</td></tr></tbody></table></div>
<p>Next create three new templates <code>lousy_login.html</code>, <code>lousy_secret_page.html</code> and <code>lousy_logout.html</code> with the following content.</p>

<p><strong>TGDB/django_project/blog/templates/blog/lousy_login.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&#34;blog/base.html&#34;</span>  <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Lousy Login - </span><span class="cp">{{</span> <span class="nb">block</span><span class="nv">.super</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">    &lt;div class=&#34;content&#34;&gt;</span>
<span class="x">        &lt;div class=&#34;section-inner clearfix&#34;&gt;</span>

<span class="x">        &lt;h3&gt;Login Form&lt;/h3&gt;</span>

<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">messages</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;ul class=&#34;messages&#34;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">message</span> <span class="k">in</span> <span class="nv">messages</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;li</span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">message.tags</span> <span class="cp">%}</span><span class="x"> class=&#34;</span><span class="cp">{{</span> <span class="nv">message.tags</span> <span class="cp">}}</span><span class="x">&#34;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x">&gt;</span><span class="cp">{{</span> <span class="nv">message</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        &lt;form action=&#34;&#34; method=&#34;post&#34;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">csrf_token</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;table&gt;</span>
<span class="x">                &lt;tr&gt;</span>
<span class="x">                    &lt;td&gt;&lt;label for=&#34;id_username&#34;&gt;Enter Username&lt;/label&gt;&lt;/td&gt;</span>
<span class="x">                    &lt;td&gt;&lt;input type=&#34;text&#34; id=&#34;id_username&#34; name=&#34;username&#34;&gt;&lt;/td&gt;</span>
<span class="x">                &lt;/tr&gt;</span>
<span class="x">                &lt;tr&gt;</span>
<span class="x">                    &lt;td&gt;&lt;label for=&#34;id_password&#34;&gt;Enter Password&lt;/label&gt;&lt;/td&gt;</span>
<span class="x">                    &lt;td&gt;&lt;input type=&#34;text&#34; id=&#34;id_password&#34; name=&#34;password&#34;&gt;&lt;/td&gt;</span>
<span class="x">                &lt;/tr&gt;</span>
<span class="x">                &lt;tr&gt;</span>
<span class="x">                    &lt;td&gt;&lt;/td&gt;</span>
<span class="x">                    &lt;td&gt;&lt;input type=&#34;submit&#34; name=&#34;submit&#34; value=&#34;Submit&#34;&gt;&lt;/td&gt;</span>
<span class="x">                &lt;/tr&gt;</span>
<span class="x">            &lt;/table&gt;</span>
<span class="x">        &lt;/form&gt;</span>

<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>TGDB/django_project/blog/templates/blog/lousy_secret_page.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&#34;blog/base.html&#34;</span>  <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Lousy Secret Page - </span><span class="cp">{{</span> <span class="nb">block</span><span class="nv">.super</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">    &lt;div class=&#34;content&#34;&gt;</span>
<span class="x">        &lt;div class=&#34;section-inner clearfix&#34;&gt;</span>

<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">request.session.logged_in</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;p&gt;Welcome to the lousy secret page. You are seeing this page because you are logged in.&lt;/p&gt;</span>

<span class="x">            &lt;p&gt;To logout click &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;lousy_logout&#39;</span> <span class="cp">%}</span><span class="x">&#34;&gt;here&lt;/a&gt;&lt;/p&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p><strong>TGDB/django_project/blog/templates/blog/lousy_logout.html</strong></p>
<div class="codeblock language-jinja"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&#34;blog/base.html&#34;</span>  <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Blog - </span><span class="cp">{{</span> <span class="nb">block</span><span class="nv">.super</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">    &lt;div class=&#34;content&#34;&gt;</span>
<span class="x">        &lt;div class=&#34;section-inner clearfix&#34;&gt;</span>

<span class="x">        &lt;p&gt;You have been logged out click &lt;a href=&#34;</span><span class="cp">{%</span> <span class="k">url</span> <span class="s1">&#39;lousy_login&#39;</span> <span class="cp">%}</span><span class="x">&#34;&gt;here&lt;/a&gt; to login again&lt;/p&gt;</span>

<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></tbody></table></div>
<p>Finally, add the following three URL patterns at the beginning of <code>urlpatterns</code> list in blog&#39;s <code>urls.py</code>.</p>

<p><strong>TGDB/django_project/blog/urls.py</strong></p>
<div class="codeblock language-python"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#...</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>   
<span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^lousy-login/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">lousy_login</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;lousy_login&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^lousy-secret/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">lousy_secret</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;lousy_secret&#39;</span><span class="p">),</span>
</span><span class="hll">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^lousy-logout/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">lousy_logout</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;lousy_logout&#39;</span><span class="p">),</span>
</span>    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^save-session-data/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">save_session_data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;save_session_data&#39;</span><span class="p">),</span>
    <span class="c1">#...</span>
<span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div>
<p>Open the browser and visit <code>http://127.0.0.1:8000/lousy-secret/</code>, you will be redirected to <code>http://127.0.0.1:8000/lousy-login/</code> because currently we are not authorized to view this page.</p>

<p><img src="../../media/uploads/2017/09/11/lousy_login.png" loading="lazy" alt=""/></p>

<p>Type wrong a username/password combination or just hit &#34;Submit&#34; without entering anything and you would get &#34;Error wrong username/password&#34; error above the form as follows:</p>

<p><img src="../../media/uploads/2017/09/11/validation-error.png" loading="lazy" alt=""/></p>

<p>Enter correct username/password (i.e root and pass) and hit submit, this time you will be redirected to <code>http://127.0.0.1:8000/lousy-secret/</code>.</p>

<p><img src="../../media/uploads/2017/09/11/lousy_secret.png" loading="lazy" alt=""/></p>

<p>Click the logout link to logout from the page and this time you will be redirected to <code>http://127.0.0.1:8000/lousy-logout/</code>.</p>

<p><img src="../../media/uploads/2017/09/11/lousy_logout.png" loading="lazy" alt=""/></p>

<p>Obviously, this is a lousy way of logging in users. Nonetheless, it perfectly describes the role of sessions in creating login systems. Django has an authentication framework which makes logging in user into your app pretty easily. Django authentication framework is discussed in the next chapter.</p>

<p><strong>Note:</strong> To checkout this version of the repository type <code>git checkout 28a</code>.</p>



    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../cookies-in-django/index.html" title="Cookies in Django">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Cookies in Django
                        </a>
                    </li>
                

                
                    <li class="next">
                        <a href="../django-authentication-framework-basics/index.html" title="Django Authentication Framework Basics">
                            Django Authentication Framework Basics
                            <span class="fa fa-arrow-right" aria-hidden="true"></span>
                        </a>
                    </li>
                
            </ul>
        </nav>







    <hr/>
    <div id="disqus_thread">
    <p style="margin-bottom: 10px" class="text-center">
        <a href="#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">
            <i class="fa fa-comments" aria-hidden="true"></i> Load Comments
        </a>
    </p>
    </div>
    <hr/>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '../../../overiqcom.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        
    <div class="well">
        <h4>Django 1.10 Tutorial</h4>
        <ul>
            
                <li><a href="../intro-to-django/index.html">Intro to Django</a></li>
            
                <li><a href="../installing-django/index.html">Installing Django</a></li>
            
                <li><a href="../creating-django-project/index.html">Creating Django Project</a></li>
            
                <li><a href="../mvc-pattern-and-django/index.html">MVC Pattern and Django</a></li>
            
                <li><a href="../views-and-urlconfs-in-django/index.html">Views and URLconfs in Django</a></li>
            
                <li><a href="../basics-of-django-templates/index.html">Basics of Django Templates</a></li>
            
                <li><a href="../template-tags-in-django/index.html">Template tags in Django</a></li>
            
                <li><a href="../template-filters-in-django/index.html">Template filters in Django</a></li>
            
                <li><a href="../loading-templates-in-django/index.html">Loading Templates in Django</a></li>
            
                <li><a href="../template-inheritance-in-django/index.html">Template Inheritance in Django</a></li>
            
                <li><a href="../basics-of-models-in-django/index.html">Basics of Models in Django</a></li>
            
                <li><a href="../migrations-in-django/index.html">Migrations in Django</a></li>
            
                <li><a href="../django-orm-basics/index.html">Django ORM Basics</a></li>
            
                <li><a href="../accessing-related-data-using-django-orm/index.html">Accessing Related Data Using Django ORM</a></li>
            
                <li><a href="../building-blog-the-first-steps/index.html">Building Blog The First Steps</a></li>
            
                <li><a href="../django-admin-app/index.html">Django Admin App</a></li>
            
                <li><a href="../creating-urls-in-django/index.html">Creating URLs in Django</a></li>
            
                <li><a href="../showing-404-errors-in-django/index.html">Showing 404 errors In Django</a></li>
            
                <li><a href="../redirecting-urls-in-django/index.html">Redirecting URLs in Django</a></li>
            
                <li><a href="../django-form-basics/index.html">Django Form Basics</a></li>
            
                <li><a href="../displaying-forms-in-django/index.html">Displaying Forms in Django</a></li>
            
                <li><a href="../building-contact-us-page/index.html">Building Contact Us Page</a></li>
            
                <li><a href="../django-rendering-fields-manually/index.html">Django Rendering Fields Manually</a></li>
            
                <li><a href="../handling-static-content-in-django/index.html">Handling Static Content in Django</a></li>
            
                <li><a href="../handling-media-files-in-django/index.html">Handling Media Files in Django</a></li>
            
                <li><a href="../pagination-in-django/index.html">Pagination in Django</a></li>
            
                <li><a href="../cookies-in-django/index.html">Cookies in Django</a></li>
            
                <li><a href="index.html">Sessions in Django</a></li>
            
                <li><a href="../django-authentication-framework-basics/index.html">Django Authentication Framework Basics</a></li>
            
                <li><a href="../django-logging-users-in-and-out/index.html">Django Logging Users In and Out</a></li>
            
                <li><a href="../django-password_change-view/index.html">Django password_change() View</a></li>
            
                <li><a href="../django-creating-users-using-usercreationform/index.html">Django Creating Users using UserCreationForm</a></li>
            
                <li><a href="../django-extending-user-model/index.html">Django Extending User model</a></li>
            
                <li><a href="../flatpages-in-django/index.html">Flatpages in Django</a></li>
            
                <li><a href="../creating-sitemaps-in-django/index.html">Creating Sitemaps in Django</a></li>
            
                <li><a href="../revisiting-cadmin-app/index.html">Revisiting cadmin App</a></li>
            
                <li><a href="../integrating-ckeditor-in-django/index.html">Integrating CKeditor in Django</a></li>
            
        </ul>
    </div>

    

    
        

<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../../machine-learning-experts-you-should-be-following-online/index.html">Machine Learning Experts You Should Be Following Online</a></li>
        
            <li><a href="../../4-ways-to-prepare-for-the-ap-computer-science-a-exam/index.html">4 Ways to Prepare for the AP Computer Science A Exam</a></li>
        
            <li><a href="../../finance-assignment-online-help-for-the-busy-and-tired-students-get-help-from-experts/index.html">Finance Assignment Online Help for the Busy and Tired Students: Get Help from Experts</a></li>
        
            <li><a href="../../top-9-machine-learning-algorithms-for-data-scientists/index.html">Top 9 Machine Learning Algorithms for Data Scientists</a></li>
        
            <li><a href="../../data-science-learning-path-or-steps-to-become-a-data-scientist-final/index.html">Data Science Learning Path or Steps to become a data scientist Final</a></li>
        
            <li><a href="../../enable-edit-button-in-shutter-in-linux-mint-19-and-ubuntu-18-04/index.html">Enable Edit Button in Shutter In Linux Mint 19 and Ubuntu 18.04</a></li>
        
            <li><a href="../../python-3-time-module/index.html">Python 3 time module</a></li>
        
            <li><a href="../../pygments-tutorial/index.html">Pygments Tutorial</a></li>
        
            <li><a href="../../how-to-use-virtualenv/index.html">How to use Virtualenv?</a></li>
        
            <li><a href="../../installing-mysql-windows-linux-and-mac/index.html">Installing MySQL (Windows, Linux and Mac)</a></li>
        
            <li><a href="../../what-is-if-__name__-__main__-in-python/index.html">What is if __name__ == &#39;__main__&#39;  in Python ?</a></li>
        
            <li><a href="../../installing-goaccess-a-real-time-web-log-analyzer/index.html">Installing GoAccess (A Real-time web log analyzer)</a></li>
        
            <li><a href="../../installing-isso/index.html">Installing Isso</a></li>
        
    </ul>
</div>

<!-- Blog Search Well -->





















    



            </div>
        </div>
    </div>



    

</div>

<!-- Footer -->
<footer class="overiq-footer">
    <div class="container">
        <div class="row">

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../../sitemap.xml/index.html">Sitemap</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../contact/index.html">Contact</a></li>
                    <li><a href="../../blog/index.html">Blog</a></li>
                </ul>

            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="https://www.facebook.com/OverIQ/">Facebook</a></li>
                    <li><a href="https://twitter.com/infoOverIQ">Twitter</a></li>
                    <li><a href="https://github.com/overiq">Github</a></li>
                </ul>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-6 overiq-footer-links">
                <ul>
                    <li><a href="../../c-programming-101/index.html">C Tutorial</a></li>
                    <li><a href="../../python-101/index.html">Python Tutorial</a></li>
                    <li><a href="../../django-1-11/index.html">Django Tutorial</a></li>
                    <li><a href="../../flask-101/index.html">Flask Tutorial</a></li>
                    <li><a href="../../mysql-connector-python-101/index.html">MySQL Connector/Python Tutorial</a></li>
                    <li><a href="../../sqlalchemy-101/index.html">SQLAlchemy Tutorial</a></li>
                    <li><a href="../../c-examples/index.html">C Programming Examples</a></li>
                </ul>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row text-center">
            <p>© 2025 OverIQ.com</p>
            <small><a href="#">Back to top</a></small>
        </div>

        <!-- /.row -->
    </div>
</footer>



<script type="text/javascript" src="../../static/CACHE/js/output.2e0ff002c1a4.js"></script>




<script async="" src="../../../cdn.jsdelivr.net/npm/cookieconsent%403/build/cookieconsent.min.js" data-cfasync="false"></script>

<script>

    
    window.addEventListener('load', function () {
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#5ca9e0",
                    "text": "#ffffff"
                },
                "button": {
                    "background": "#fff",
                    "text": "#237afc"
                }
            },
            "theme": "classic",
            "position": "top",
            "static": true,
            "content": {
                "href": "https://overiq.com/privacy-policy/"
            }
        });
    });


</script>

<script src="../../../polyfill.io/v3/polyfill.min1162.js?features=es6"></script>
<script id="MathJax-script" defer="" src="../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml.js"></script>

<script async="" type="text/javascript" src="../../../cdn.carbonads.com/carbonfbdb.js?serve=CE7DC53E&amp;placement=overiqcom" id="_carbonads_js"></script>





<script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.overiq.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body>
<!-- Mirrored from overiq.com/django-1-10/sessions-in-django/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 01 Feb 2025 11:05:17 GMT -->
</html>